2025-08-31 18:22:46,935 - earnings_strategy - INFO - main:3211 - ================================================================================
2025-08-31 18:22:46,935 - earnings_strategy - INFO - main:3212 - ADVANCED EARNINGS STRATEGY DISCOVERY SYSTEM
2025-08-31 18:22:46,938 - earnings_strategy - INFO - main:3213 - ================================================================================
2025-08-31 18:22:46,938 - earnings_strategy - INFO - main:3214 - Mode: FULL
2025-08-31 18:22:46,938 - earnings_strategy - INFO - main:3215 - Input CSV: earnings_data.csv
2025-08-31 18:22:46,938 - earnings_strategy - INFO - main:3216 - Output: strategies.json
2025-08-31 18:22:46,938 - earnings_strategy - INFO - main:3217 - Transaction Costs: 5.0 bps + 5.0 bps slippage
2025-08-31 18:22:46,938 - earnings_strategy - INFO - main:3218 - Random Seed: 42
2025-08-31 18:22:46,938 - earnings_strategy - INFO - main:3219 - Log Level: INFO
2025-08-31 18:22:46,946 - earnings_strategy - INFO - main:3220 - Available CPU Cores: 8
2025-08-31 18:22:46,946 - earnings_strategy - INFO - main:3221 - ================================================================================
2025-08-31 18:22:46,946 - earnings_strategy - INFO - run_full_mode_comprehensive:2843 - Starting comprehensive full mode execution
2025-08-31 18:22:46,953 - earnings_strategy - INFO - run_full_mode_comprehensive:2854 - === PHASE 1: DATA PREPARATION ===
2025-08-31 18:22:46,953 - earnings_strategy - INFO - load_and_validate_data:406 - Loading data from earnings_data.csv
2025-08-31 18:22:47,060 - earnings_strategy - INFO - load_and_validate_data:416 - Successfully loaded with utf-8 encoding
2025-08-31 18:22:47,060 - earnings_strategy - INFO - load_and_validate_data:424 - Loaded 1431 rows and 37 columns
2025-08-31 18:22:47,060 - earnings_strategy - ERROR - load_and_validate_data:432 - Missing required columns: {'prev_close'}
2025-08-31 18:22:47,068 - earnings_strategy - ERROR - load_and_validate_data:433 - Available columns: ['alpaca_prev_close', 'close_price', 'data_source', 'earnings_time', 'high_before_low', 'high_price', 'high_time', 'industry', 'low_price', 'low_time', 'market_cap', 'open_price', 'opening_minute_volume', 'pct_15min', 'pct_1hr', 'pct_1min', 'pct_30min', 'pct_5min', 'pct_change_close', 'pct_change_high', 'pct_change_low', 'pct_change_open', 'premarket_high', 'premarket_low', 'premarket_volume', 'reference_prev_close', 'report_date', 'report_timestamp', 'revenue_surprise', 'sector', 'sort_key', 'surprise', 'symbol', 'volume_30_day_avg', 'volume_7_day_avg', 'volume_ratio_30_day', 'volume_ratio_7_day']
2025-08-31 18:22:47,071 - earnings_strategy - ERROR - run_full_mode_comprehensive:2930 - Fatal error in full mode: Missing required columns: {'prev_close'}
Traceback (most recent call last):
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 2855, in run_full_mode_comprehensive
    df = load_and_validate_data(csv_path, logger)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 434, in load_and_validate_data
    raise ValueError(f"Missing required columns: {missing_cols}")
ValueError: Missing required columns: {'prev_close'}
2025-08-31 18:22:47,077 - earnings_strategy - INFO - export_comprehensive_strategies:2689 - Exporting 0 strategies to comprehensive JSON
2025-08-31 18:22:47,077 - earnings_strategy - INFO - export_comprehensive_strategies:2835 - Successfully exported comprehensive strategies to strategies.json
2025-08-31 18:22:47,077 - earnings_strategy - ERROR - main:3244 - Fatal error: Missing required columns: {'prev_close'}
Traceback (most recent call last):
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 3225, in main
    run_full_mode_comprehensive(
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 2855, in run_full_mode_comprehensive
    df = load_and_validate_data(csv_path, logger)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 434, in load_and_validate_data
    raise ValueError(f"Missing required columns: {missing_cols}")
ValueError: Missing required columns: {'prev_close'}
2025-08-31 18:26:29,541 - earnings_strategy - INFO - main:3211 - ================================================================================
2025-08-31 18:26:29,541 - earnings_strategy - INFO - main:3212 - ADVANCED EARNINGS STRATEGY DISCOVERY SYSTEM
2025-08-31 18:26:29,547 - earnings_strategy - INFO - main:3213 - ================================================================================
2025-08-31 18:26:29,547 - earnings_strategy - INFO - main:3214 - Mode: FULL
2025-08-31 18:26:29,547 - earnings_strategy - INFO - main:3215 - Input CSV: earnings_data.csv
2025-08-31 18:26:29,547 - earnings_strategy - INFO - main:3216 - Output: strategies.json
2025-08-31 18:26:29,549 - earnings_strategy - INFO - main:3217 - Transaction Costs: 5.0 bps + 5.0 bps slippage
2025-08-31 18:26:29,549 - earnings_strategy - INFO - main:3218 - Random Seed: 42
2025-08-31 18:26:29,550 - earnings_strategy - INFO - main:3219 - Log Level: INFO
2025-08-31 18:26:29,550 - earnings_strategy - INFO - main:3220 - Available CPU Cores: 8
2025-08-31 18:26:29,550 - earnings_strategy - INFO - main:3221 - ================================================================================
2025-08-31 18:26:29,550 - earnings_strategy - INFO - run_full_mode_comprehensive:2843 - Starting comprehensive full mode execution
2025-08-31 18:26:29,551 - earnings_strategy - INFO - run_full_mode_comprehensive:2854 - === PHASE 1: DATA PREPARATION ===
2025-08-31 18:26:29,551 - earnings_strategy - INFO - load_and_validate_data:406 - Loading data from earnings_data.csv
2025-08-31 18:26:29,587 - earnings_strategy - INFO - load_and_validate_data:416 - Successfully loaded with utf-8 encoding
2025-08-31 18:26:29,587 - earnings_strategy - INFO - load_and_validate_data:424 - Loaded 1431 rows and 37 columns
2025-08-31 18:26:29,602 - earnings_strategy - INFO - load_and_validate_data:442 - Validating data quality...
2025-08-31 18:26:29,612 - earnings_strategy - WARNING - load_and_validate_data:456 - Found 1 out-of-range values in market_cap
2025-08-31 18:26:29,618 - earnings_strategy - WARNING - load_and_validate_data:456 - Found 8 out-of-range values in volume_ratio_7_day
2025-08-31 18:26:29,621 - earnings_strategy - WARNING - load_and_validate_data:456 - Found 1172 out-of-range values in pct_change_open
2025-08-31 18:26:29,621 - earnings_strategy - INFO - clean_and_normalize_data:464 - Starting comprehensive data cleaning and normalization
2025-08-31 18:26:29,659 - earnings_strategy - INFO - clean_and_normalize_data:487 - Removed 0 rows with invalid dates
2025-08-31 18:26:29,659 - earnings_strategy - INFO - clean_and_normalize_data:490 - Processing missing value markers...
2025-08-31 18:26:29,754 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 63 outliers in alpaca_prev_close
2025-08-31 18:26:29,761 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 60 outliers in close_price
2025-08-31 18:26:29,779 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 61 outliers in high_price
2025-08-31 18:26:29,791 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 60 outliers in low_price
2025-08-31 18:26:29,803 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 137 outliers in market_cap
2025-08-31 18:26:29,813 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 62 outliers in open_price
2025-08-31 18:26:29,821 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 135 outliers in opening_minute_volume
2025-08-31 18:26:29,831 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 11 outliers in pct_15min
2025-08-31 18:26:29,835 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 8 outliers in pct_1hr
2025-08-31 18:26:29,847 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 37 outliers in pct_1min
2025-08-31 18:26:29,853 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 8 outliers in pct_30min
2025-08-31 18:26:29,864 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 8 outliers in pct_5min
2025-08-31 18:26:29,874 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 20 outliers in pct_change_close
2025-08-31 18:26:29,892 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 16 outliers in pct_change_high
2025-08-31 18:26:29,907 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 14 outliers in pct_change_low
2025-08-31 18:26:29,915 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 35 outliers in pct_change_open
2025-08-31 18:26:29,923 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 47 outliers in premarket_high
2025-08-31 18:26:29,930 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 47 outliers in premarket_low
2025-08-31 18:26:29,939 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 141 outliers in premarket_volume
2025-08-31 18:26:29,947 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 63 outliers in reference_prev_close
2025-08-31 18:26:29,960 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 60 outliers in revenue_surprise
2025-08-31 18:26:29,978 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 16 outliers in sort_key
2025-08-31 18:26:29,987 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 118 outliers in surprise
2025-08-31 18:26:30,003 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 80 outliers in volume_30_day_avg
2025-08-31 18:26:30,014 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 78 outliers in volume_7_day_avg
2025-08-31 18:26:30,026 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 63 outliers in volume_ratio_30_day
2025-08-31 18:26:30,037 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 67 outliers in volume_ratio_7_day
2025-08-31 18:26:30,113 - earnings_strategy - INFO - clean_and_normalize_data:551 - Performing advanced deduplication...
2025-08-31 18:26:30,281 - earnings_strategy - INFO - clean_and_normalize_data:576 - Running final data validation...
2025-08-31 18:26:30,312 - earnings_strategy - INFO - clean_and_normalize_data:585 - Data covers 37 days from 2025-07-21 00:00:00 to 2025-08-27 00:00:00
2025-08-31 18:26:30,319 - earnings_strategy - INFO - clean_and_normalize_data:587 - Data cleaning complete. Final dataset: 1431 rows (0 removed)
2025-08-31 18:26:30,321 - earnings_strategy - INFO - engineer_features_comprehensive:595 - Starting comprehensive feature engineering
2025-08-31 18:26:30,323 - earnings_strategy - INFO - engineer_features_comprehensive:601 - Filling missing values...
2025-08-31 18:26:39,513 - earnings_strategy - INFO - engineer_features_comprehensive:622 - Creating premarket features...
2025-08-31 18:26:39,561 - earnings_strategy - INFO - engineer_features_comprehensive:631 - Creating market cap features...
2025-08-31 18:26:39,570 - earnings_strategy - INFO - engineer_features_comprehensive:645 - Creating volume features...
2025-08-31 18:26:39,580 - earnings_strategy - INFO - engineer_features_comprehensive:669 - Creating intraday features...
2025-08-31 18:26:40,223 - earnings_strategy - INFO - engineer_features_comprehensive:698 - Creating surprise features...
2025-08-31 18:26:40,241 - earnings_strategy - INFO - engineer_features_comprehensive:718 - Creating timing features...
2025-08-31 18:26:40,263 - earnings_strategy - INFO - engineer_features_comprehensive:735 - Creating technical features...
2025-08-31 18:26:40,275 - earnings_strategy - INFO - engineer_features_comprehensive:750 - Creating cross-sectional features...
2025-08-31 18:26:40,319 - earnings_strategy - INFO - engineer_features_comprehensive:764 - Creating interaction features...
2025-08-31 18:26:40,335 - earnings_strategy - INFO - engineer_features_comprehensive:783 - Creating regime features...
2025-08-31 18:26:40,351 - earnings_strategy - INFO - engineer_features_comprehensive:798 - Creating categorical dummies...
2025-08-31 18:26:40,474 - earnings_strategy - INFO - engineer_features_comprehensive:824 - Creating lagged features...
2025-08-31 18:26:41,058 - earnings_strategy - INFO - engineer_features_comprehensive:856 - Feature engineering complete. Added 101 new features (total: 138)
2025-08-31 18:26:41,058 - earnings_strategy - INFO - create_comprehensive_targets:864 - Creating comprehensive target variables
2025-08-31 18:26:41,106 - earnings_strategy - INFO - create_comprehensive_targets:926 - Removed 0 rows with missing target values
2025-08-31 18:26:41,106 - earnings_strategy - INFO - create_comprehensive_targets:932 - Primary target (target_2pct_up) positive rate: 0.284
2025-08-31 18:26:41,108 - earnings_strategy - INFO - create_comprehensive_targets:940 - Next session return - Mean: -0.0079, Std: 0.0617
2025-08-31 18:26:41,110 - earnings_strategy - INFO - create_comprehensive_targets:941 - Return percentiles - 5%: -0.1133, 95%: 0.0876
2025-08-31 18:26:41,110 - earnings_strategy - INFO - create_comprehensive_targets:943 - Target creation complete. Dataset shape: (1431, 162)
2025-08-31 18:26:41,111 - earnings_strategy - INFO - run_full_mode_comprehensive:2860 - === PHASE 2: COMPREHENSIVE EDA ===
2025-08-31 18:26:41,113 - earnings_strategy - INFO - perform_comprehensive_eda:951 - Performing comprehensive exploratory data analysis
2025-08-31 18:26:41,113 - earnings_strategy - INFO - perform_comprehensive_eda:956 - Computing summary statistics...
2025-08-31 18:26:41,548 - earnings_strategy - INFO - perform_comprehensive_eda:965 - Performing correlation analysis...
2025-08-31 18:26:42,130 - earnings_strategy - INFO - perform_comprehensive_eda:991 - Performing data leakage detection...
2025-08-31 18:26:42,528 - earnings_strategy - INFO - perform_comprehensive_eda:1040 - Analyzing feature distributions...
2025-08-31 18:26:42,619 - earnings_strategy - INFO - perform_comprehensive_eda:1061 - Performing time series analysis...
2025-08-31 18:26:42,659 - earnings_strategy - INFO - perform_comprehensive_eda:1083 - Analyzing sector distributions...
2025-08-31 18:26:42,737 - earnings_strategy - ERROR - run_full_mode_comprehensive:2930 - Fatal error in full mode: keys must be str, int, float, bool or None, not tuple
Traceback (most recent call last):
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 2861, in run_full_mode_comprehensive
    perform_comprehensive_eda(df, logger, artifacts_dir)
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 1097, in perform_comprehensive_eda
    json.dump(eda_results, f, indent=2, default=str)
  File "C:\Python\Python37\Lib\json\__init__.py", line 179, in dump
    for chunk in iterable:
  File "C:\Python\Python37\Lib\json\encoder.py", line 432, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "C:\Python\Python37\Lib\json\encoder.py", line 406, in _iterencode_dict
    yield from chunks
  File "C:\Python\Python37\Lib\json\encoder.py", line 377, in _iterencode_dict
    raise TypeError(f'keys must be str, int, float, bool or None, '
TypeError: keys must be str, int, float, bool or None, not tuple
2025-08-31 18:26:42,829 - earnings_strategy - INFO - export_comprehensive_strategies:2689 - Exporting 0 strategies to comprehensive JSON
2025-08-31 18:26:42,831 - earnings_strategy - INFO - export_comprehensive_strategies:2835 - Successfully exported comprehensive strategies to strategies.json
2025-08-31 18:26:42,831 - earnings_strategy - ERROR - main:3244 - Fatal error: keys must be str, int, float, bool or None, not tuple
Traceback (most recent call last):
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 3225, in main
    run_full_mode_comprehensive(
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 2861, in run_full_mode_comprehensive
    perform_comprehensive_eda(df, logger, artifacts_dir)
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 1097, in perform_comprehensive_eda
    json.dump(eda_results, f, indent=2, default=str)
  File "C:\Python\Python37\Lib\json\__init__.py", line 179, in dump
    for chunk in iterable:
  File "C:\Python\Python37\Lib\json\encoder.py", line 432, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "C:\Python\Python37\Lib\json\encoder.py", line 406, in _iterencode_dict
    yield from chunks
  File "C:\Python\Python37\Lib\json\encoder.py", line 377, in _iterencode_dict
    raise TypeError(f'keys must be str, int, float, bool or None, '
TypeError: keys must be str, int, float, bool or None, not tuple
2025-08-31 18:27:52,928 - earnings_strategy - INFO - main:3211 - ================================================================================
2025-08-31 18:27:52,928 - earnings_strategy - INFO - main:3212 - ADVANCED EARNINGS STRATEGY DISCOVERY SYSTEM
2025-08-31 18:27:52,928 - earnings_strategy - INFO - main:3213 - ================================================================================
2025-08-31 18:27:52,928 - earnings_strategy - INFO - main:3214 - Mode: FULL
2025-08-31 18:27:52,935 - earnings_strategy - INFO - main:3215 - Input CSV: earnings_data.csv
2025-08-31 18:27:52,935 - earnings_strategy - INFO - main:3216 - Output: strategies.json
2025-08-31 18:27:52,937 - earnings_strategy - INFO - main:3217 - Transaction Costs: 5.0 bps + 5.0 bps slippage
2025-08-31 18:27:52,937 - earnings_strategy - INFO - main:3218 - Random Seed: 42
2025-08-31 18:27:52,938 - earnings_strategy - INFO - main:3219 - Log Level: INFO
2025-08-31 18:27:52,938 - earnings_strategy - INFO - main:3220 - Available CPU Cores: 8
2025-08-31 18:27:52,938 - earnings_strategy - INFO - main:3221 - ================================================================================
2025-08-31 18:27:52,940 - earnings_strategy - INFO - run_full_mode_comprehensive:2843 - Starting comprehensive full mode execution
2025-08-31 18:27:52,940 - earnings_strategy - INFO - run_full_mode_comprehensive:2854 - === PHASE 1: DATA PREPARATION ===
2025-08-31 18:27:52,941 - earnings_strategy - INFO - load_and_validate_data:406 - Loading data from earnings_data.csv
2025-08-31 18:27:52,982 - earnings_strategy - INFO - load_and_validate_data:416 - Successfully loaded with utf-8 encoding
2025-08-31 18:27:52,982 - earnings_strategy - INFO - load_and_validate_data:424 - Loaded 1431 rows and 37 columns
2025-08-31 18:27:52,985 - earnings_strategy - INFO - load_and_validate_data:442 - Validating data quality...
2025-08-31 18:27:52,990 - earnings_strategy - WARNING - load_and_validate_data:456 - Found 1 out-of-range values in market_cap
2025-08-31 18:27:52,990 - earnings_strategy - WARNING - load_and_validate_data:456 - Found 8 out-of-range values in volume_ratio_7_day
2025-08-31 18:27:52,996 - earnings_strategy - WARNING - load_and_validate_data:456 - Found 1172 out-of-range values in pct_change_open
2025-08-31 18:27:52,996 - earnings_strategy - INFO - clean_and_normalize_data:464 - Starting comprehensive data cleaning and normalization
2025-08-31 18:27:53,014 - earnings_strategy - INFO - clean_and_normalize_data:487 - Removed 0 rows with invalid dates
2025-08-31 18:27:53,014 - earnings_strategy - INFO - clean_and_normalize_data:490 - Processing missing value markers...
2025-08-31 18:27:53,079 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 63 outliers in alpaca_prev_close
2025-08-31 18:27:53,079 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 60 outliers in close_price
2025-08-31 18:27:53,099 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 61 outliers in high_price
2025-08-31 18:27:53,105 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 60 outliers in low_price
2025-08-31 18:27:53,105 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 137 outliers in market_cap
2025-08-31 18:27:53,117 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 62 outliers in open_price
2025-08-31 18:27:53,125 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 135 outliers in opening_minute_volume
2025-08-31 18:27:53,131 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 11 outliers in pct_15min
2025-08-31 18:27:53,137 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 8 outliers in pct_1hr
2025-08-31 18:27:53,138 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 37 outliers in pct_1min
2025-08-31 18:27:53,147 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 8 outliers in pct_30min
2025-08-31 18:27:53,155 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 8 outliers in pct_5min
2025-08-31 18:27:53,161 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 20 outliers in pct_change_close
2025-08-31 18:27:53,167 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 16 outliers in pct_change_high
2025-08-31 18:27:53,183 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 14 outliers in pct_change_low
2025-08-31 18:27:53,187 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 35 outliers in pct_change_open
2025-08-31 18:27:53,195 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 47 outliers in premarket_high
2025-08-31 18:27:53,201 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 47 outliers in premarket_low
2025-08-31 18:27:53,204 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 141 outliers in premarket_volume
2025-08-31 18:27:53,214 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 63 outliers in reference_prev_close
2025-08-31 18:27:53,220 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 60 outliers in revenue_surprise
2025-08-31 18:27:53,229 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 16 outliers in sort_key
2025-08-31 18:27:53,236 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 118 outliers in surprise
2025-08-31 18:27:53,245 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 80 outliers in volume_30_day_avg
2025-08-31 18:27:53,253 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 78 outliers in volume_7_day_avg
2025-08-31 18:27:53,260 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 63 outliers in volume_ratio_30_day
2025-08-31 18:27:53,266 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 67 outliers in volume_ratio_7_day
2025-08-31 18:27:53,286 - earnings_strategy - INFO - clean_and_normalize_data:551 - Performing advanced deduplication...
2025-08-31 18:27:53,346 - earnings_strategy - INFO - clean_and_normalize_data:576 - Running final data validation...
2025-08-31 18:27:53,348 - earnings_strategy - INFO - clean_and_normalize_data:585 - Data covers 37 days from 2025-07-21 00:00:00 to 2025-08-27 00:00:00
2025-08-31 18:27:53,348 - earnings_strategy - INFO - clean_and_normalize_data:587 - Data cleaning complete. Final dataset: 1431 rows (0 removed)
2025-08-31 18:27:53,350 - earnings_strategy - INFO - engineer_features_comprehensive:595 - Starting comprehensive feature engineering
2025-08-31 18:27:53,352 - earnings_strategy - INFO - engineer_features_comprehensive:601 - Filling missing values...
2025-08-31 18:28:02,145 - earnings_strategy - INFO - engineer_features_comprehensive:622 - Creating premarket features...
2025-08-31 18:28:02,145 - earnings_strategy - INFO - engineer_features_comprehensive:631 - Creating market cap features...
2025-08-31 18:28:02,145 - earnings_strategy - INFO - engineer_features_comprehensive:645 - Creating volume features...
2025-08-31 18:28:02,161 - earnings_strategy - INFO - engineer_features_comprehensive:669 - Creating intraday features...
2025-08-31 18:28:02,697 - earnings_strategy - INFO - engineer_features_comprehensive:698 - Creating surprise features...
2025-08-31 18:28:02,697 - earnings_strategy - INFO - engineer_features_comprehensive:718 - Creating timing features...
2025-08-31 18:28:02,718 - earnings_strategy - INFO - engineer_features_comprehensive:735 - Creating technical features...
2025-08-31 18:28:02,724 - earnings_strategy - INFO - engineer_features_comprehensive:750 - Creating cross-sectional features...
2025-08-31 18:28:02,736 - earnings_strategy - INFO - engineer_features_comprehensive:764 - Creating interaction features...
2025-08-31 18:28:02,747 - earnings_strategy - INFO - engineer_features_comprehensive:783 - Creating regime features...
2025-08-31 18:28:02,758 - earnings_strategy - INFO - engineer_features_comprehensive:798 - Creating categorical dummies...
2025-08-31 18:28:02,825 - earnings_strategy - INFO - engineer_features_comprehensive:824 - Creating lagged features...
2025-08-31 18:28:03,274 - earnings_strategy - INFO - engineer_features_comprehensive:856 - Feature engineering complete. Added 101 new features (total: 138)
2025-08-31 18:28:03,274 - earnings_strategy - INFO - create_comprehensive_targets:864 - Creating comprehensive target variables
2025-08-31 18:28:03,316 - earnings_strategy - INFO - create_comprehensive_targets:926 - Removed 0 rows with missing target values
2025-08-31 18:28:03,316 - earnings_strategy - INFO - create_comprehensive_targets:932 - Primary target (target_2pct_up) positive rate: 0.284
2025-08-31 18:28:03,322 - earnings_strategy - INFO - create_comprehensive_targets:940 - Next session return - Mean: -0.0079, Std: 0.0617
2025-08-31 18:28:03,324 - earnings_strategy - INFO - create_comprehensive_targets:941 - Return percentiles - 5%: -0.1133, 95%: 0.0876
2025-08-31 18:28:03,324 - earnings_strategy - INFO - create_comprehensive_targets:943 - Target creation complete. Dataset shape: (1431, 162)
2025-08-31 18:28:03,326 - earnings_strategy - INFO - run_full_mode_comprehensive:2860 - === PHASE 2: COMPREHENSIVE EDA ===
2025-08-31 18:28:03,326 - earnings_strategy - INFO - perform_comprehensive_eda:951 - Performing comprehensive exploratory data analysis
2025-08-31 18:28:03,326 - earnings_strategy - INFO - perform_comprehensive_eda:956 - Computing summary statistics...
2025-08-31 18:28:03,773 - earnings_strategy - INFO - perform_comprehensive_eda:965 - Performing correlation analysis...
2025-08-31 18:28:04,319 - earnings_strategy - INFO - perform_comprehensive_eda:991 - Performing data leakage detection...
2025-08-31 18:28:04,727 - earnings_strategy - INFO - perform_comprehensive_eda:1040 - Analyzing feature distributions...
2025-08-31 18:28:04,763 - earnings_strategy - INFO - perform_comprehensive_eda:1061 - Performing time series analysis...
2025-08-31 18:28:04,775 - earnings_strategy - INFO - perform_comprehensive_eda:1083 - Analyzing sector distributions...
2025-08-31 18:28:04,801 - earnings_strategy - ERROR - run_full_mode_comprehensive:2930 - Fatal error in full mode: keys must be str, int, float, bool or None, not tuple
Traceback (most recent call last):
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 2861, in run_full_mode_comprehensive
    perform_comprehensive_eda(df, logger, artifacts_dir)
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 1097, in perform_comprehensive_eda
    json.dump(eda_results, f, indent=2, default=str)
  File "C:\Python\Python37\Lib\json\__init__.py", line 179, in dump
    for chunk in iterable:
  File "C:\Python\Python37\Lib\json\encoder.py", line 432, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "C:\Python\Python37\Lib\json\encoder.py", line 406, in _iterencode_dict
    yield from chunks
  File "C:\Python\Python37\Lib\json\encoder.py", line 377, in _iterencode_dict
    raise TypeError(f'keys must be str, int, float, bool or None, '
TypeError: keys must be str, int, float, bool or None, not tuple
2025-08-31 18:28:04,808 - earnings_strategy - INFO - export_comprehensive_strategies:2689 - Exporting 0 strategies to comprehensive JSON
2025-08-31 18:28:04,811 - earnings_strategy - INFO - export_comprehensive_strategies:2835 - Successfully exported comprehensive strategies to strategies.json
2025-08-31 18:28:04,812 - earnings_strategy - ERROR - main:3244 - Fatal error: keys must be str, int, float, bool or None, not tuple
Traceback (most recent call last):
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 3225, in main
    run_full_mode_comprehensive(
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 2861, in run_full_mode_comprehensive
    perform_comprehensive_eda(df, logger, artifacts_dir)
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 1097, in perform_comprehensive_eda
    json.dump(eda_results, f, indent=2, default=str)
  File "C:\Python\Python37\Lib\json\__init__.py", line 179, in dump
    for chunk in iterable:
  File "C:\Python\Python37\Lib\json\encoder.py", line 432, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "C:\Python\Python37\Lib\json\encoder.py", line 406, in _iterencode_dict
    yield from chunks
  File "C:\Python\Python37\Lib\json\encoder.py", line 377, in _iterencode_dict
    raise TypeError(f'keys must be str, int, float, bool or None, '
TypeError: keys must be str, int, float, bool or None, not tuple
2025-08-31 18:40:14,444 - earnings_strategy - INFO - main:3240 - ================================================================================
2025-08-31 18:40:14,444 - earnings_strategy - INFO - main:3241 - ADVANCED EARNINGS STRATEGY DISCOVERY SYSTEM
2025-08-31 18:40:14,444 - earnings_strategy - INFO - main:3242 - ================================================================================
2025-08-31 18:40:14,444 - earnings_strategy - INFO - main:3243 - Mode: FULL
2025-08-31 18:40:14,444 - earnings_strategy - INFO - main:3244 - Input CSV: earnings_data.csv
2025-08-31 18:40:14,444 - earnings_strategy - INFO - main:3245 - Output: strategies.json
2025-08-31 18:40:14,444 - earnings_strategy - INFO - main:3246 - Transaction Costs: 5.0 bps + 5.0 bps slippage
2025-08-31 18:40:14,449 - earnings_strategy - INFO - main:3247 - Random Seed: 42
2025-08-31 18:40:14,449 - earnings_strategy - INFO - main:3248 - Log Level: INFO
2025-08-31 18:40:14,450 - earnings_strategy - INFO - main:3249 - Available CPU Cores: 8
2025-08-31 18:40:14,450 - earnings_strategy - INFO - main:3250 - ================================================================================
2025-08-31 18:40:14,450 - earnings_strategy - INFO - run_full_mode_comprehensive:2872 - Starting comprehensive full mode execution
2025-08-31 18:40:14,452 - earnings_strategy - INFO - run_full_mode_comprehensive:2883 - === PHASE 1: DATA PREPARATION ===
2025-08-31 18:40:14,452 - earnings_strategy - INFO - load_and_validate_data:406 - Loading data from earnings_data.csv
2025-08-31 18:40:14,485 - earnings_strategy - INFO - load_and_validate_data:416 - Successfully loaded with utf-8 encoding
2025-08-31 18:40:14,485 - earnings_strategy - INFO - load_and_validate_data:424 - Loaded 1431 rows and 37 columns
2025-08-31 18:40:14,488 - earnings_strategy - INFO - load_and_validate_data:442 - Validating data quality...
2025-08-31 18:40:14,490 - earnings_strategy - WARNING - load_and_validate_data:456 - Found 1 out-of-range values in market_cap
2025-08-31 18:40:14,494 - earnings_strategy - WARNING - load_and_validate_data:456 - Found 8 out-of-range values in volume_ratio_7_day
2025-08-31 18:40:14,497 - earnings_strategy - WARNING - load_and_validate_data:456 - Found 1172 out-of-range values in pct_change_open
2025-08-31 18:40:14,497 - earnings_strategy - INFO - clean_and_normalize_data:464 - Starting comprehensive data cleaning and normalization
2025-08-31 18:40:14,510 - earnings_strategy - INFO - clean_and_normalize_data:487 - Removed 0 rows with invalid dates
2025-08-31 18:40:14,510 - earnings_strategy - INFO - clean_and_normalize_data:490 - Processing missing value markers...
2025-08-31 18:40:14,555 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 63 outliers in alpaca_prev_close
2025-08-31 18:40:14,562 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 60 outliers in close_price
2025-08-31 18:40:14,573 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 61 outliers in high_price
2025-08-31 18:40:14,581 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 60 outliers in low_price
2025-08-31 18:40:14,582 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 137 outliers in market_cap
2025-08-31 18:40:14,588 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 62 outliers in open_price
2025-08-31 18:40:14,595 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 135 outliers in opening_minute_volume
2025-08-31 18:40:14,598 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 11 outliers in pct_15min
2025-08-31 18:40:14,604 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 8 outliers in pct_1hr
2025-08-31 18:40:14,608 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 37 outliers in pct_1min
2025-08-31 18:40:14,613 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 8 outliers in pct_30min
2025-08-31 18:40:14,617 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 8 outliers in pct_5min
2025-08-31 18:40:14,622 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 20 outliers in pct_change_close
2025-08-31 18:40:14,631 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 16 outliers in pct_change_high
2025-08-31 18:40:14,637 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 14 outliers in pct_change_low
2025-08-31 18:40:14,642 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 35 outliers in pct_change_open
2025-08-31 18:40:14,647 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 47 outliers in premarket_high
2025-08-31 18:40:14,652 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 47 outliers in premarket_low
2025-08-31 18:40:14,657 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 141 outliers in premarket_volume
2025-08-31 18:40:14,657 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 63 outliers in reference_prev_close
2025-08-31 18:40:14,657 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 60 outliers in revenue_surprise
2025-08-31 18:40:14,671 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 16 outliers in sort_key
2025-08-31 18:40:14,679 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 118 outliers in surprise
2025-08-31 18:40:14,687 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 80 outliers in volume_30_day_avg
2025-08-31 18:40:14,692 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 78 outliers in volume_7_day_avg
2025-08-31 18:40:14,692 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 63 outliers in volume_ratio_30_day
2025-08-31 18:40:14,704 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 67 outliers in volume_ratio_7_day
2025-08-31 18:40:14,722 - earnings_strategy - INFO - clean_and_normalize_data:551 - Performing advanced deduplication...
2025-08-31 18:40:14,772 - earnings_strategy - INFO - clean_and_normalize_data:576 - Running final data validation...
2025-08-31 18:40:14,772 - earnings_strategy - INFO - clean_and_normalize_data:585 - Data covers 37 days from 2025-07-21 00:00:00 to 2025-08-27 00:00:00
2025-08-31 18:40:14,772 - earnings_strategy - INFO - clean_and_normalize_data:587 - Data cleaning complete. Final dataset: 1431 rows (0 removed)
2025-08-31 18:40:14,772 - earnings_strategy - INFO - engineer_features_comprehensive:595 - Starting comprehensive feature engineering
2025-08-31 18:40:14,772 - earnings_strategy - INFO - engineer_features_comprehensive:601 - Filling missing values...
2025-08-31 18:40:24,074 - earnings_strategy - INFO - engineer_features_comprehensive:622 - Creating premarket features...
2025-08-31 18:40:24,074 - earnings_strategy - INFO - engineer_features_comprehensive:631 - Creating market cap features...
2025-08-31 18:40:24,091 - earnings_strategy - INFO - engineer_features_comprehensive:645 - Creating volume features...
2025-08-31 18:40:24,098 - earnings_strategy - INFO - engineer_features_comprehensive:669 - Creating intraday features...
2025-08-31 18:40:24,676 - earnings_strategy - INFO - engineer_features_comprehensive:698 - Creating surprise features...
2025-08-31 18:40:24,676 - earnings_strategy - INFO - engineer_features_comprehensive:718 - Creating timing features...
2025-08-31 18:40:24,696 - earnings_strategy - INFO - engineer_features_comprehensive:735 - Creating technical features...
2025-08-31 18:40:24,702 - earnings_strategy - INFO - engineer_features_comprehensive:750 - Creating cross-sectional features...
2025-08-31 18:40:24,717 - earnings_strategy - INFO - engineer_features_comprehensive:764 - Creating interaction features...
2025-08-31 18:40:24,731 - earnings_strategy - INFO - engineer_features_comprehensive:783 - Creating regime features...
2025-08-31 18:40:24,740 - earnings_strategy - INFO - engineer_features_comprehensive:798 - Creating categorical dummies...
2025-08-31 18:40:24,764 - earnings_strategy - INFO - engineer_features_comprehensive:845 - Creating lagged features...
2025-08-31 18:40:25,283 - earnings_strategy - INFO - engineer_features_comprehensive:877 - Feature engineering complete. Added 101 new features (total: 138)
2025-08-31 18:40:25,283 - earnings_strategy - INFO - create_comprehensive_targets:885 - Creating comprehensive target variables
2025-08-31 18:40:25,329 - earnings_strategy - INFO - create_comprehensive_targets:947 - Removed 0 rows with missing target values
2025-08-31 18:40:25,329 - earnings_strategy - INFO - create_comprehensive_targets:953 - Primary target (target_2pct_up) positive rate: 0.284
2025-08-31 18:40:25,329 - earnings_strategy - INFO - create_comprehensive_targets:961 - Next session return - Mean: -0.0079, Std: 0.0617
2025-08-31 18:40:25,329 - earnings_strategy - INFO - create_comprehensive_targets:962 - Return percentiles - 5%: -0.1133, 95%: 0.0876
2025-08-31 18:40:25,329 - earnings_strategy - INFO - create_comprehensive_targets:964 - Target creation complete. Dataset shape: (1431, 162)
2025-08-31 18:40:25,329 - earnings_strategy - INFO - run_full_mode_comprehensive:2889 - === PHASE 2: COMPREHENSIVE EDA ===
2025-08-31 18:40:25,337 - earnings_strategy - INFO - perform_comprehensive_eda:972 - Performing comprehensive exploratory data analysis
2025-08-31 18:40:25,337 - earnings_strategy - INFO - perform_comprehensive_eda:977 - Computing summary statistics...
2025-08-31 18:40:25,768 - earnings_strategy - INFO - perform_comprehensive_eda:986 - Performing correlation analysis...
2025-08-31 18:40:26,229 - earnings_strategy - INFO - perform_comprehensive_eda:1012 - Performing data leakage detection...
2025-08-31 18:40:26,635 - earnings_strategy - INFO - perform_comprehensive_eda:1061 - Analyzing feature distributions...
2025-08-31 18:40:26,664 - earnings_strategy - INFO - perform_comprehensive_eda:1082 - Performing time series analysis...
2025-08-31 18:40:26,674 - earnings_strategy - INFO - perform_comprehensive_eda:1108 - Analyzing sector distributions...
2025-08-31 18:40:26,710 - earnings_strategy - INFO - perform_comprehensive_eda:1128 - Comprehensive EDA complete, artifacts saved
2025-08-31 18:40:26,712 - earnings_strategy - INFO - run_full_mode_comprehensive:2893 - === PHASE 3: ADVANCED FEATURE SELECTION ===
2025-08-31 18:40:26,757 - earnings_strategy - INFO - advanced_feature_selection:1136 - Starting advanced feature selection for classification task
2025-08-31 18:40:26,766 - earnings_strategy - INFO - advanced_feature_selection:1144 - Starting with 125 numeric features
2025-08-31 18:40:26,766 - earnings_strategy - INFO - advanced_feature_selection:1147 - Stage 1: Filter methods
2025-08-31 18:40:26,776 - earnings_strategy - INFO - advanced_feature_selection:1154 - Removed 18 constant/quasi-constant features
2025-08-31 18:40:26,780 - earnings_strategy - INFO - advanced_feature_selection:1158 - Removing highly correlated features...
2025-08-31 18:40:26,928 - earnings_strategy - INFO - advanced_feature_selection:1170 - Removed 37 highly correlated features, remaining: 70
2025-08-31 18:40:26,928 - earnings_strategy - INFO - advanced_feature_selection:1173 - Computing mutual information scores...
2025-08-31 18:40:28,764 - earnings_strategy - INFO - advanced_feature_selection:1187 - Mutual information selected 70 features
2025-08-31 18:40:28,764 - earnings_strategy - INFO - advanced_feature_selection:1190 - Stage 2: Wrapper methods (RFE)
2025-08-31 18:40:28,764 - earnings_strategy - INFO - advanced_feature_selection:1207 - RFE with logistic...
2025-08-31 18:40:46,837 - earnings_strategy - INFO - advanced_feature_selection:1223 - RFE with logistic selected 50 features
2025-08-31 18:40:46,837 - earnings_strategy - INFO - advanced_feature_selection:1207 - RFE with random_forest...
2025-08-31 18:40:55,831 - earnings_strategy - INFO - advanced_feature_selection:1223 - RFE with random_forest selected 50 features
2025-08-31 18:40:55,831 - earnings_strategy - INFO - advanced_feature_selection:1230 - Stage 3: Embedded methods
2025-08-31 18:40:55,831 - earnings_strategy - INFO - advanced_feature_selection:1235 - L1 regularization selection...
2025-08-31 18:40:56,060 - earnings_strategy - INFO - advanced_feature_selection:1264 - Lasso selected 41 features
2025-08-31 18:40:56,060 - earnings_strategy - INFO - advanced_feature_selection:1271 - Tree-based feature importance...
2025-08-31 18:41:05,522 - earnings_strategy - INFO - advanced_feature_selection:1303 - Tree-based selection chose 50 features
2025-08-31 18:41:05,522 - earnings_strategy - INFO - advanced_feature_selection:1310 - Stage 4: Ensemble feature selection
2025-08-31 18:41:05,522 - earnings_strategy - INFO - advanced_feature_selection:1359 - Final feature selection: 50 features
2025-08-31 18:41:05,527 - earnings_strategy - INFO - advanced_feature_selection:1360 - Top 10 features by consensus: ['earnings_time', 'high_before_low', 'pct_15min', 'pct_1hr', 'pct_1min', 'pct_5min', 'pct_change_close', 'pct_change_high', 'pct_change_open', 'sort_key']
2025-08-31 18:41:05,529 - earnings_strategy - INFO - run_full_mode_comprehensive:2918 - === PHASE 4: COMPREHENSIVE HYPOTHESIS TESTING ===
2025-08-31 18:41:05,529 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1369 - Testing comprehensive single-feature signals
2025-08-31 18:41:05,556 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1465 - Testing 33 conditions...
2025-08-31 18:41:11,275 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1577 - Applying multiple testing corrections...
2025-08-31 18:41:11,283 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1606 - Found 0 conditions significant by t-test (FDR corrected)
2025-08-31 18:41:11,283 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1607 - Found 0 conditions significant by U-test (FDR corrected)
2025-08-31 18:41:11,294 - earnings_strategy - INFO - run_full_mode_comprehensive:2924 - === PHASE 5: ADVANCED ML MODELING ===
2025-08-31 18:41:11,294 - earnings_strategy - INFO - train_advanced_models:1624 - Training advanced models for classification
2025-08-31 18:41:11,297 - earnings_strategy - INFO - train_advanced_models:1724 - Training logistic
2025-08-31 18:41:25,473 - earnings_strategy - INFO - train_advanced_models:1872 - logistic ROC-AUC: 0.8815 ± 0.0000
2025-08-31 18:41:25,525 - earnings_strategy - INFO - train_advanced_models:1724 - Training random_forest
2025-08-31 18:41:32,525 - earnings_strategy - INFO - train_advanced_models:1872 - random_forest ROC-AUC: 0.9906 ± 0.0000
2025-08-31 18:41:32,525 - earnings_strategy - INFO - train_advanced_models:1724 - Training xgboost
2025-08-31 18:41:33,454 - earnings_strategy - INFO - train_advanced_models:1872 - xgboost ROC-AUC: 0.9903 ± 0.0000
2025-08-31 18:41:33,454 - earnings_strategy - INFO - train_advanced_models:1724 - Training lightgbm
2025-08-31 18:41:34,600 - earnings_strategy - INFO - train_advanced_models:1872 - lightgbm ROC-AUC: 0.9887 ± 0.0000
2025-08-31 18:41:34,603 - earnings_strategy - INFO - train_advanced_models:1724 - Training mlp
2025-08-31 18:41:45,947 - earnings_strategy - INFO - train_advanced_models:1872 - mlp ROC-AUC: 0.9851 ± 0.0000
2025-08-31 18:41:45,947 - earnings_strategy - INFO - train_advanced_models:1880 - Creating model ensemble...
2025-08-31 18:41:45,947 - earnings_strategy - INFO - train_advanced_models:1900 - Ensemble ROC-AUC: 0.9809
2025-08-31 18:41:45,947 - earnings_strategy - INFO - run_full_mode_comprehensive:2931 - === PHASE 6: SOPHISTICATED STRATEGY CONSTRUCTION ===
2025-08-31 18:41:45,961 - earnings_strategy - INFO - build_sophisticated_strategies:1922 - Building sophisticated strategies from models
2025-08-31 18:41:47,433 - earnings_strategy - ERROR - run_full_mode_comprehensive:2959 - Fatal error in full mode: operands could not be broadcast together with shapes (635,) (1431,) 
Traceback (most recent call last):
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 2932, in run_full_mode_comprehensive
    strategies = build_sophisticated_strategies(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 2005, in build_sophisticated_strategies
    base_signal & volume_signal & cap_signal & timing_signal
    ~~~~~~~~~~~~^~~~~~~~~~~~~~~
  File "C:\Python\Python37\Lib\site-packages\pandas\core\generic.py", line 2171, in __array_ufunc__
    return arraylike.array_ufunc(self, ufunc, method, *inputs, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python37\Lib\site-packages\pandas\core\arraylike.py", line 276, in array_ufunc
    result = maybe_dispatch_ufunc_to_dunder_op(self, ufunc, method, *inputs, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "ops_dispatch.pyx", line 113, in pandas._libs.ops_dispatch.maybe_dispatch_ufunc_to_dunder_op
  File "C:\Python\Python37\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python37\Lib\site-packages\pandas\core\arraylike.py", line 74, in __rand__
    return self._logical_method(other, roperator.rand_)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python37\Lib\site-packages\pandas\core\series.py", line 6130, in _logical_method
    res_values = ops.logical_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python37\Lib\site-packages\pandas\core\ops\array_ops.py", line 454, in logical_op
    res_values = na_logical_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python37\Lib\site-packages\pandas\core\ops\array_ops.py", line 362, in na_logical_op
    result = op(x, y)
             ^^^^^^^^
  File "C:\Python\Python37\Lib\site-packages\pandas\core\roperator.py", line 54, in rand_
    return operator.and_(right, left)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: operands could not be broadcast together with shapes (635,) (1431,) 
2025-08-31 18:41:47,717 - earnings_strategy - INFO - export_comprehensive_strategies:2718 - Exporting 0 strategies to comprehensive JSON
2025-08-31 18:41:47,725 - earnings_strategy - INFO - export_comprehensive_strategies:2864 - Successfully exported comprehensive strategies to strategies.json
2025-08-31 18:41:47,725 - earnings_strategy - ERROR - main:3273 - Fatal error: operands could not be broadcast together with shapes (635,) (1431,) 
Traceback (most recent call last):
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 3254, in main
    run_full_mode_comprehensive(
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 2932, in run_full_mode_comprehensive
    strategies = build_sophisticated_strategies(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 2005, in build_sophisticated_strategies
    base_signal & volume_signal & cap_signal & timing_signal
    ~~~~~~~~~~~~^~~~~~~~~~~~~~~
  File "C:\Python\Python37\Lib\site-packages\pandas\core\generic.py", line 2171, in __array_ufunc__
    return arraylike.array_ufunc(self, ufunc, method, *inputs, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python37\Lib\site-packages\pandas\core\arraylike.py", line 276, in array_ufunc
    result = maybe_dispatch_ufunc_to_dunder_op(self, ufunc, method, *inputs, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "ops_dispatch.pyx", line 113, in pandas._libs.ops_dispatch.maybe_dispatch_ufunc_to_dunder_op
  File "C:\Python\Python37\Lib\site-packages\pandas\core\ops\common.py", line 76, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python37\Lib\site-packages\pandas\core\arraylike.py", line 74, in __rand__
    return self._logical_method(other, roperator.rand_)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python37\Lib\site-packages\pandas\core\series.py", line 6130, in _logical_method
    res_values = ops.logical_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python37\Lib\site-packages\pandas\core\ops\array_ops.py", line 454, in logical_op
    res_values = na_logical_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python37\Lib\site-packages\pandas\core\ops\array_ops.py", line 362, in na_logical_op
    result = op(x, y)
             ^^^^^^^^
  File "C:\Python\Python37\Lib\site-packages\pandas\core\roperator.py", line 54, in rand_
    return operator.and_(right, left)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: operands could not be broadcast together with shapes (635,) (1431,) 
2025-08-31 20:35:05,586 - earnings_strategy - INFO - main:3270 - ================================================================================
2025-08-31 20:35:05,586 - earnings_strategy - INFO - main:3271 - ADVANCED EARNINGS STRATEGY DISCOVERY SYSTEM
2025-08-31 20:35:05,586 - earnings_strategy - INFO - main:3272 - ================================================================================
2025-08-31 20:35:05,586 - earnings_strategy - INFO - main:3273 - Mode: FULL
2025-08-31 20:35:05,586 - earnings_strategy - INFO - main:3274 - Input CSV: earnings_data.csv
2025-08-31 20:35:05,586 - earnings_strategy - INFO - main:3275 - Output: strategies.json
2025-08-31 20:35:05,586 - earnings_strategy - INFO - main:3276 - Transaction Costs: 5.0 bps + 5.0 bps slippage
2025-08-31 20:35:05,586 - earnings_strategy - INFO - main:3277 - Random Seed: 42
2025-08-31 20:35:05,586 - earnings_strategy - INFO - main:3278 - Log Level: INFO
2025-08-31 20:35:05,586 - earnings_strategy - INFO - main:3279 - Available CPU Cores: 8
2025-08-31 20:35:05,598 - earnings_strategy - INFO - main:3280 - ================================================================================
2025-08-31 20:35:05,598 - earnings_strategy - INFO - run_full_mode_comprehensive:2902 - Starting comprehensive full mode execution
2025-08-31 20:35:05,605 - earnings_strategy - INFO - run_full_mode_comprehensive:2913 - === PHASE 1: DATA PREPARATION ===
2025-08-31 20:35:05,605 - earnings_strategy - INFO - load_and_validate_data:406 - Loading data from earnings_data.csv
2025-08-31 20:35:05,689 - earnings_strategy - INFO - load_and_validate_data:416 - Successfully loaded with utf-8 encoding
2025-08-31 20:35:05,689 - earnings_strategy - INFO - load_and_validate_data:424 - Loaded 1431 rows and 37 columns
2025-08-31 20:35:05,708 - earnings_strategy - INFO - load_and_validate_data:442 - Validating data quality...
2025-08-31 20:35:05,717 - earnings_strategy - WARNING - load_and_validate_data:456 - Found 1 out-of-range values in market_cap
2025-08-31 20:35:05,729 - earnings_strategy - WARNING - load_and_validate_data:456 - Found 8 out-of-range values in volume_ratio_7_day
2025-08-31 20:35:05,733 - earnings_strategy - WARNING - load_and_validate_data:456 - Found 1172 out-of-range values in pct_change_open
2025-08-31 20:35:05,733 - earnings_strategy - INFO - clean_and_normalize_data:464 - Starting comprehensive data cleaning and normalization
2025-08-31 20:35:05,786 - earnings_strategy - INFO - clean_and_normalize_data:487 - Removed 0 rows with invalid dates
2025-08-31 20:35:05,786 - earnings_strategy - INFO - clean_and_normalize_data:490 - Processing missing value markers...
2025-08-31 20:35:05,881 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 63 outliers in alpaca_prev_close
2025-08-31 20:35:05,890 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 60 outliers in close_price
2025-08-31 20:35:05,913 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 61 outliers in high_price
2025-08-31 20:35:05,928 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 60 outliers in low_price
2025-08-31 20:35:05,932 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 137 outliers in market_cap
2025-08-31 20:35:05,947 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 62 outliers in open_price
2025-08-31 20:35:05,956 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 135 outliers in opening_minute_volume
2025-08-31 20:35:05,966 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 11 outliers in pct_15min
2025-08-31 20:35:05,983 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 8 outliers in pct_1hr
2025-08-31 20:35:05,993 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 37 outliers in pct_1min
2025-08-31 20:35:06,007 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 8 outliers in pct_30min
2025-08-31 20:35:06,018 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 8 outliers in pct_5min
2025-08-31 20:35:06,028 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 20 outliers in pct_change_close
2025-08-31 20:35:06,085 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 16 outliers in pct_change_high
2025-08-31 20:35:06,099 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 14 outliers in pct_change_low
2025-08-31 20:35:06,107 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 35 outliers in pct_change_open
2025-08-31 20:35:06,116 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 47 outliers in premarket_high
2025-08-31 20:35:06,122 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 47 outliers in premarket_low
2025-08-31 20:35:06,133 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 141 outliers in premarket_volume
2025-08-31 20:35:06,144 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 63 outliers in reference_prev_close
2025-08-31 20:35:06,152 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 60 outliers in revenue_surprise
2025-08-31 20:35:06,168 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 16 outliers in sort_key
2025-08-31 20:35:06,178 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 118 outliers in surprise
2025-08-31 20:35:06,194 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 80 outliers in volume_30_day_avg
2025-08-31 20:35:06,201 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 78 outliers in volume_7_day_avg
2025-08-31 20:35:06,215 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 63 outliers in volume_ratio_30_day
2025-08-31 20:35:06,225 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 67 outliers in volume_ratio_7_day
2025-08-31 20:35:06,302 - earnings_strategy - INFO - clean_and_normalize_data:551 - Performing advanced deduplication...
2025-08-31 20:35:06,418 - earnings_strategy - INFO - clean_and_normalize_data:576 - Running final data validation...
2025-08-31 20:35:06,433 - earnings_strategy - INFO - clean_and_normalize_data:585 - Data covers 37 days from 2025-07-21 00:00:00 to 2025-08-27 00:00:00
2025-08-31 20:35:06,435 - earnings_strategy - INFO - clean_and_normalize_data:587 - Data cleaning complete. Final dataset: 1431 rows (0 removed)
2025-08-31 20:35:06,435 - earnings_strategy - INFO - engineer_features_comprehensive:595 - Starting comprehensive feature engineering
2025-08-31 20:35:06,439 - earnings_strategy - INFO - engineer_features_comprehensive:601 - Filling missing values...
2025-08-31 20:35:15,552 - earnings_strategy - INFO - engineer_features_comprehensive:622 - Creating premarket features...
2025-08-31 20:35:15,596 - earnings_strategy - INFO - engineer_features_comprehensive:631 - Creating market cap features...
2025-08-31 20:35:15,603 - earnings_strategy - INFO - engineer_features_comprehensive:645 - Creating volume features...
2025-08-31 20:35:15,613 - earnings_strategy - INFO - engineer_features_comprehensive:669 - Creating intraday features...
2025-08-31 20:35:16,255 - earnings_strategy - INFO - engineer_features_comprehensive:698 - Creating surprise features...
2025-08-31 20:35:16,269 - earnings_strategy - INFO - engineer_features_comprehensive:718 - Creating timing features...
2025-08-31 20:35:16,295 - earnings_strategy - INFO - engineer_features_comprehensive:735 - Creating technical features...
2025-08-31 20:35:16,308 - earnings_strategy - INFO - engineer_features_comprehensive:750 - Creating cross-sectional features...
2025-08-31 20:35:16,353 - earnings_strategy - INFO - engineer_features_comprehensive:764 - Creating interaction features...
2025-08-31 20:35:16,377 - earnings_strategy - INFO - engineer_features_comprehensive:783 - Creating regime features...
2025-08-31 20:35:16,397 - earnings_strategy - INFO - engineer_features_comprehensive:798 - Creating categorical dummies...
2025-08-31 20:35:16,453 - earnings_strategy - INFO - engineer_features_comprehensive:845 - Creating lagged features...
2025-08-31 20:35:17,170 - earnings_strategy - INFO - engineer_features_comprehensive:877 - Feature engineering complete. Added 101 new features (total: 138)
2025-08-31 20:35:17,170 - earnings_strategy - INFO - create_comprehensive_targets:885 - Creating comprehensive target variables
2025-08-31 20:35:17,195 - earnings_strategy - INFO - create_comprehensive_targets:947 - Removed 0 rows with missing target values
2025-08-31 20:35:17,195 - earnings_strategy - INFO - create_comprehensive_targets:953 - Primary target (target_2pct_up) positive rate: 0.284
2025-08-31 20:35:17,195 - earnings_strategy - INFO - create_comprehensive_targets:961 - Next session return - Mean: -0.0079, Std: 0.0617
2025-08-31 20:35:17,212 - earnings_strategy - INFO - create_comprehensive_targets:962 - Return percentiles - 5%: -0.1133, 95%: 0.0876
2025-08-31 20:35:17,212 - earnings_strategy - INFO - create_comprehensive_targets:964 - Target creation complete. Dataset shape: (1431, 162)
2025-08-31 20:35:17,216 - earnings_strategy - INFO - run_full_mode_comprehensive:2919 - === PHASE 2: COMPREHENSIVE EDA ===
2025-08-31 20:35:17,216 - earnings_strategy - INFO - perform_comprehensive_eda:972 - Performing comprehensive exploratory data analysis
2025-08-31 20:35:17,216 - earnings_strategy - INFO - perform_comprehensive_eda:977 - Computing summary statistics...
2025-08-31 20:35:17,695 - earnings_strategy - INFO - perform_comprehensive_eda:986 - Performing correlation analysis...
2025-08-31 20:35:18,298 - earnings_strategy - INFO - perform_comprehensive_eda:1012 - Performing data leakage detection...
2025-08-31 20:35:18,696 - earnings_strategy - INFO - perform_comprehensive_eda:1061 - Analyzing feature distributions...
2025-08-31 20:35:18,766 - earnings_strategy - INFO - perform_comprehensive_eda:1082 - Performing time series analysis...
2025-08-31 20:35:18,806 - earnings_strategy - INFO - perform_comprehensive_eda:1108 - Analyzing sector distributions...
2025-08-31 20:35:18,866 - earnings_strategy - INFO - perform_comprehensive_eda:1128 - Comprehensive EDA complete, artifacts saved
2025-08-31 20:35:18,866 - earnings_strategy - INFO - run_full_mode_comprehensive:2923 - === PHASE 3: ADVANCED FEATURE SELECTION ===
2025-08-31 20:35:18,877 - earnings_strategy - INFO - advanced_feature_selection:1136 - Starting advanced feature selection for classification task
2025-08-31 20:35:18,884 - earnings_strategy - INFO - advanced_feature_selection:1144 - Starting with 125 numeric features
2025-08-31 20:35:18,884 - earnings_strategy - INFO - advanced_feature_selection:1147 - Stage 1: Filter methods
2025-08-31 20:35:18,900 - earnings_strategy - INFO - advanced_feature_selection:1154 - Removed 18 constant/quasi-constant features
2025-08-31 20:35:18,906 - earnings_strategy - INFO - advanced_feature_selection:1158 - Removing highly correlated features...
2025-08-31 20:35:19,066 - earnings_strategy - INFO - advanced_feature_selection:1170 - Removed 37 highly correlated features, remaining: 70
2025-08-31 20:35:19,066 - earnings_strategy - INFO - advanced_feature_selection:1173 - Computing mutual information scores...
2025-08-31 20:35:20,799 - earnings_strategy - INFO - advanced_feature_selection:1187 - Mutual information selected 70 features
2025-08-31 20:35:20,799 - earnings_strategy - INFO - advanced_feature_selection:1190 - Stage 2: Wrapper methods (RFE)
2025-08-31 20:35:20,799 - earnings_strategy - INFO - advanced_feature_selection:1207 - RFE with logistic...
2025-08-31 20:35:38,929 - earnings_strategy - INFO - advanced_feature_selection:1223 - RFE with logistic selected 50 features
2025-08-31 20:35:38,929 - earnings_strategy - INFO - advanced_feature_selection:1207 - RFE with random_forest...
2025-08-31 20:35:47,845 - earnings_strategy - INFO - advanced_feature_selection:1223 - RFE with random_forest selected 50 features
2025-08-31 20:35:47,845 - earnings_strategy - INFO - advanced_feature_selection:1230 - Stage 3: Embedded methods
2025-08-31 20:35:47,845 - earnings_strategy - INFO - advanced_feature_selection:1235 - L1 regularization selection...
2025-08-31 20:35:48,042 - earnings_strategy - INFO - advanced_feature_selection:1264 - Lasso selected 41 features
2025-08-31 20:35:48,042 - earnings_strategy - INFO - advanced_feature_selection:1271 - Tree-based feature importance...
2025-08-31 20:35:57,467 - earnings_strategy - INFO - advanced_feature_selection:1303 - Tree-based selection chose 50 features
2025-08-31 20:35:57,467 - earnings_strategy - INFO - advanced_feature_selection:1310 - Stage 4: Ensemble feature selection
2025-08-31 20:35:57,467 - earnings_strategy - INFO - advanced_feature_selection:1359 - Final feature selection: 50 features
2025-08-31 20:35:57,473 - earnings_strategy - INFO - advanced_feature_selection:1360 - Top 10 features by consensus: ['earnings_time', 'high_before_low', 'pct_15min', 'pct_1hr', 'pct_1min', 'pct_5min', 'pct_change_close', 'pct_change_high', 'pct_change_open', 'sort_key']
2025-08-31 20:35:57,516 - earnings_strategy - INFO - run_full_mode_comprehensive:2948 - === PHASE 4: COMPREHENSIVE HYPOTHESIS TESTING ===
2025-08-31 20:35:57,516 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1369 - Testing comprehensive single-feature signals
2025-08-31 20:35:57,548 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1465 - Testing 33 conditions...
2025-08-31 20:36:03,750 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1577 - Applying multiple testing corrections...
2025-08-31 20:36:03,802 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1606 - Found 0 conditions significant by t-test (FDR corrected)
2025-08-31 20:36:03,802 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1607 - Found 0 conditions significant by U-test (FDR corrected)
2025-08-31 20:36:03,802 - earnings_strategy - INFO - run_full_mode_comprehensive:2954 - === PHASE 5: ADVANCED ML MODELING ===
2025-08-31 20:36:03,802 - earnings_strategy - INFO - train_advanced_models:1624 - Training advanced models for classification
2025-08-31 20:36:03,806 - earnings_strategy - INFO - train_advanced_models:1724 - Training logistic
2025-08-31 20:36:17,807 - earnings_strategy - INFO - train_advanced_models:1875 - logistic ROC-AUC: 0.8815 ± 0.0000
2025-08-31 20:36:17,807 - earnings_strategy - INFO - train_advanced_models:1724 - Training random_forest
2025-08-31 20:36:25,037 - earnings_strategy - INFO - train_advanced_models:1875 - random_forest ROC-AUC: 0.9906 ± 0.0000
2025-08-31 20:36:25,037 - earnings_strategy - INFO - train_advanced_models:1724 - Training xgboost
2025-08-31 20:36:26,011 - earnings_strategy - INFO - train_advanced_models:1875 - xgboost ROC-AUC: 0.9903 ± 0.0000
2025-08-31 20:36:26,013 - earnings_strategy - INFO - train_advanced_models:1724 - Training lightgbm
2025-08-31 20:36:27,241 - earnings_strategy - INFO - train_advanced_models:1875 - lightgbm ROC-AUC: 0.9887 ± 0.0000
2025-08-31 20:36:27,241 - earnings_strategy - INFO - train_advanced_models:1724 - Training mlp
2025-08-31 20:36:39,579 - earnings_strategy - INFO - train_advanced_models:1875 - mlp ROC-AUC: 0.9851 ± 0.0000
2025-08-31 20:36:39,579 - earnings_strategy - INFO - train_advanced_models:1883 - Creating model ensemble...
2025-08-31 20:36:39,592 - earnings_strategy - INFO - train_advanced_models:1903 - Ensemble ROC-AUC: 0.9809
2025-08-31 20:36:39,619 - earnings_strategy - INFO - run_full_mode_comprehensive:2961 - === PHASE 6: SOPHISTICATED STRATEGY CONSTRUCTION ===
2025-08-31 20:36:39,619 - earnings_strategy - INFO - build_sophisticated_strategies:1925 - Building sophisticated strategies from models
2025-08-31 20:36:41,135 - earnings_strategy - WARNING - build_sophisticated_strategies:1950 - Ensemble predictions length (635) doesn't match data length (1431)
2025-08-31 20:36:41,135 - earnings_strategy - INFO - build_sophisticated_strategies:2121 - Adding rule-based benchmark strategies...
2025-08-31 20:36:41,135 - earnings_strategy - INFO - create_rule_based_strategies:2135 - Creating rule-based benchmark strategies
2025-08-31 20:36:41,733 - earnings_strategy - INFO - create_rule_based_strategies:2218 - Created 0 rule-based benchmark strategies
2025-08-31 20:36:41,733 - earnings_strategy - INFO - build_sophisticated_strategies:2126 - Built 0 candidate strategies
2025-08-31 20:36:41,733 - earnings_strategy - INFO - run_full_mode_comprehensive:2968 - === PHASE 7: COMPREHENSIVE STATISTICAL VALIDATION ===
2025-08-31 20:36:41,733 - earnings_strategy - INFO - perform_comprehensive_validation:2227 - Performing comprehensive statistical validation
2025-08-31 20:36:41,733 - earnings_strategy - INFO - perform_comprehensive_validation:2389 - Performing White's Reality Check...
2025-08-31 20:36:41,733 - earnings_strategy - INFO - perform_comprehensive_validation:2435 - Validation complete: 0/0 strategies significant
2025-08-31 20:36:41,733 - earnings_strategy - INFO - run_full_mode_comprehensive:2974 - === PHASE 8: EXTENSIVE ROBUSTNESS TESTING ===
2025-08-31 20:36:41,733 - earnings_strategy - INFO - perform_extensive_robustness_tests:2445 - Performing extensive robustness tests
2025-08-31 20:36:41,749 - earnings_strategy - INFO - perform_extensive_robustness_tests:2738 - Robustness testing complete: 0/0 strategies robust
2025-08-31 20:36:41,749 - earnings_strategy - INFO - run_full_mode_comprehensive:2980 - === PHASE 9: COMPREHENSIVE EXPORT ===
2025-08-31 20:36:41,750 - earnings_strategy - INFO - export_comprehensive_strategies:2748 - Exporting 0 strategies to comprehensive JSON
2025-08-31 20:36:41,755 - earnings_strategy - INFO - export_comprehensive_strategies:2894 - Successfully exported comprehensive strategies to strategies.json
2025-08-31 20:36:41,755 - earnings_strategy - INFO - run_full_mode_comprehensive:2986 - Full mode completed successfully in 0.03 hours
2025-08-31 20:36:41,759 - earnings_strategy - INFO - main:3294 - ================================================================================
2025-08-31 20:36:41,759 - earnings_strategy - INFO - main:3295 - EXECUTION COMPLETED SUCCESSFULLY
2025-08-31 20:36:41,761 - earnings_strategy - INFO - main:3296 - ================================================================================
2025-08-31 21:01:30,004 - earnings_strategy - INFO - main:3328 - ================================================================================
2025-08-31 21:01:30,044 - earnings_strategy - INFO - main:3329 - ADVANCED EARNINGS STRATEGY DISCOVERY SYSTEM
2025-08-31 21:01:30,044 - earnings_strategy - INFO - main:3330 - ================================================================================
2025-08-31 21:01:30,044 - earnings_strategy - INFO - main:3331 - Mode: FULL
2025-08-31 21:01:30,044 - earnings_strategy - INFO - main:3332 - Input CSV: earnings_data.csv
2025-08-31 21:01:30,044 - earnings_strategy - INFO - main:3333 - Output: strategies.json
2025-08-31 21:01:30,044 - earnings_strategy - INFO - main:3334 - Transaction Costs: 5.0 bps + 5.0 bps slippage
2025-08-31 21:01:30,044 - earnings_strategy - INFO - main:3335 - Random Seed: 42
2025-08-31 21:01:30,044 - earnings_strategy - INFO - main:3336 - Log Level: INFO
2025-08-31 21:01:30,044 - earnings_strategy - INFO - main:3337 - Available CPU Cores: 8
2025-08-31 21:01:30,044 - earnings_strategy - INFO - main:3338 - ================================================================================
2025-08-31 21:01:30,044 - earnings_strategy - INFO - run_full_mode_comprehensive:2960 - Starting comprehensive full mode execution
2025-08-31 21:01:30,053 - earnings_strategy - INFO - run_full_mode_comprehensive:2971 - === PHASE 1: DATA PREPARATION ===
2025-08-31 21:01:30,053 - earnings_strategy - INFO - load_and_validate_data:406 - Loading data from earnings_data.csv
2025-08-31 21:01:30,095 - earnings_strategy - INFO - load_and_validate_data:416 - Successfully loaded with utf-8 encoding
2025-08-31 21:01:30,106 - earnings_strategy - INFO - load_and_validate_data:424 - Loaded 1431 rows and 37 columns
2025-08-31 21:01:30,110 - earnings_strategy - INFO - load_and_validate_data:442 - Validating data quality...
2025-08-31 21:01:30,121 - earnings_strategy - WARNING - load_and_validate_data:456 - Found 1 out-of-range values in market_cap
2025-08-31 21:01:30,127 - earnings_strategy - WARNING - load_and_validate_data:456 - Found 8 out-of-range values in volume_ratio_7_day
2025-08-31 21:01:30,131 - earnings_strategy - WARNING - load_and_validate_data:456 - Found 1172 out-of-range values in pct_change_open
2025-08-31 21:01:30,131 - earnings_strategy - INFO - clean_and_normalize_data:464 - Starting comprehensive data cleaning and normalization
2025-08-31 21:01:30,159 - earnings_strategy - INFO - clean_and_normalize_data:487 - Removed 0 rows with invalid dates
2025-08-31 21:01:30,159 - earnings_strategy - INFO - clean_and_normalize_data:490 - Processing missing value markers...
2025-08-31 21:01:30,229 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 63 outliers in alpaca_prev_close
2025-08-31 21:01:30,236 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 60 outliers in close_price
2025-08-31 21:01:30,253 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 61 outliers in high_price
2025-08-31 21:01:30,258 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 60 outliers in low_price
2025-08-31 21:01:30,265 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 137 outliers in market_cap
2025-08-31 21:01:30,273 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 62 outliers in open_price
2025-08-31 21:01:30,279 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 135 outliers in opening_minute_volume
2025-08-31 21:01:30,285 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 11 outliers in pct_15min
2025-08-31 21:01:30,294 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 8 outliers in pct_1hr
2025-08-31 21:01:30,298 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 37 outliers in pct_1min
2025-08-31 21:01:30,306 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 8 outliers in pct_30min
2025-08-31 21:01:30,310 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 8 outliers in pct_5min
2025-08-31 21:01:30,316 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 20 outliers in pct_change_close
2025-08-31 21:01:30,337 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 16 outliers in pct_change_high
2025-08-31 21:01:30,349 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 14 outliers in pct_change_low
2025-08-31 21:01:30,355 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 35 outliers in pct_change_open
2025-08-31 21:01:30,363 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 47 outliers in premarket_high
2025-08-31 21:01:30,371 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 47 outliers in premarket_low
2025-08-31 21:01:30,375 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 141 outliers in premarket_volume
2025-08-31 21:01:30,382 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 63 outliers in reference_prev_close
2025-08-31 21:01:30,388 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 60 outliers in revenue_surprise
2025-08-31 21:01:30,397 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 16 outliers in sort_key
2025-08-31 21:01:30,407 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 118 outliers in surprise
2025-08-31 21:01:30,418 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 80 outliers in volume_30_day_avg
2025-08-31 21:01:30,424 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 78 outliers in volume_7_day_avg
2025-08-31 21:01:30,429 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 63 outliers in volume_ratio_30_day
2025-08-31 21:01:30,435 - earnings_strategy - INFO - clean_and_normalize_data:523 - Found 67 outliers in volume_ratio_7_day
2025-08-31 21:01:30,500 - earnings_strategy - INFO - clean_and_normalize_data:551 - Performing advanced deduplication...
2025-08-31 21:01:30,585 - earnings_strategy - INFO - clean_and_normalize_data:576 - Running final data validation...
2025-08-31 21:01:30,601 - earnings_strategy - INFO - clean_and_normalize_data:585 - Data covers 37 days from 2025-07-21 00:00:00 to 2025-08-27 00:00:00
2025-08-31 21:01:30,601 - earnings_strategy - INFO - clean_and_normalize_data:587 - Data cleaning complete. Final dataset: 1431 rows (0 removed)
2025-08-31 21:01:30,601 - earnings_strategy - INFO - engineer_features_comprehensive:595 - Starting comprehensive feature engineering
2025-08-31 21:01:30,606 - earnings_strategy - INFO - engineer_features_comprehensive:601 - Filling missing values...
2025-08-31 21:01:39,488 - earnings_strategy - INFO - engineer_features_comprehensive:622 - Creating premarket features...
2025-08-31 21:01:39,488 - earnings_strategy - INFO - engineer_features_comprehensive:631 - Creating market cap features...
2025-08-31 21:01:39,498 - earnings_strategy - INFO - engineer_features_comprehensive:645 - Creating volume features...
2025-08-31 21:01:39,509 - earnings_strategy - INFO - engineer_features_comprehensive:669 - Creating intraday features...
2025-08-31 21:01:40,180 - earnings_strategy - INFO - engineer_features_comprehensive:698 - Creating surprise features...
2025-08-31 21:01:40,196 - earnings_strategy - INFO - engineer_features_comprehensive:718 - Creating timing features...
2025-08-31 21:01:40,256 - earnings_strategy - INFO - engineer_features_comprehensive:735 - Creating technical features...
2025-08-31 21:01:40,259 - earnings_strategy - INFO - engineer_features_comprehensive:750 - Creating cross-sectional features...
2025-08-31 21:01:40,297 - earnings_strategy - INFO - engineer_features_comprehensive:764 - Creating interaction features...
2025-08-31 21:01:40,313 - earnings_strategy - INFO - engineer_features_comprehensive:783 - Creating regime features...
2025-08-31 21:01:40,341 - earnings_strategy - INFO - engineer_features_comprehensive:798 - Creating categorical dummies...
2025-08-31 21:01:40,392 - earnings_strategy - INFO - engineer_features_comprehensive:845 - Creating lagged features...
2025-08-31 21:01:40,858 - earnings_strategy - INFO - engineer_features_comprehensive:877 - Feature engineering complete. Added 101 new features (total: 138)
2025-08-31 21:01:40,874 - earnings_strategy - INFO - create_comprehensive_targets:885 - Creating comprehensive target variables
2025-08-31 21:01:40,910 - earnings_strategy - INFO - create_comprehensive_targets:947 - Removed 0 rows with missing target values
2025-08-31 21:01:40,913 - earnings_strategy - INFO - create_comprehensive_targets:953 - Primary target (target_2pct_up) positive rate: 0.284
2025-08-31 21:01:40,914 - earnings_strategy - INFO - create_comprehensive_targets:961 - Next session return - Mean: -0.0079, Std: 0.0617
2025-08-31 21:01:40,914 - earnings_strategy - INFO - create_comprehensive_targets:962 - Return percentiles - 5%: -0.1133, 95%: 0.0876
2025-08-31 21:01:40,914 - earnings_strategy - INFO - create_comprehensive_targets:964 - Target creation complete. Dataset shape: (1431, 162)
2025-08-31 21:01:40,914 - earnings_strategy - INFO - run_full_mode_comprehensive:2977 - === PHASE 2: COMPREHENSIVE EDA ===
2025-08-31 21:01:40,914 - earnings_strategy - INFO - perform_comprehensive_eda:972 - Performing comprehensive exploratory data analysis
2025-08-31 21:01:40,914 - earnings_strategy - INFO - perform_comprehensive_eda:977 - Computing summary statistics...
2025-08-31 21:01:41,309 - earnings_strategy - INFO - perform_comprehensive_eda:986 - Performing correlation analysis...
2025-08-31 21:01:41,891 - earnings_strategy - INFO - perform_comprehensive_eda:1012 - Performing data leakage detection...
2025-08-31 21:01:42,217 - earnings_strategy - INFO - perform_comprehensive_eda:1061 - Analyzing feature distributions...
2025-08-31 21:01:42,262 - earnings_strategy - INFO - perform_comprehensive_eda:1082 - Performing time series analysis...
2025-08-31 21:01:42,325 - earnings_strategy - INFO - perform_comprehensive_eda:1108 - Analyzing sector distributions...
2025-08-31 21:01:42,378 - earnings_strategy - INFO - perform_comprehensive_eda:1128 - Comprehensive EDA complete, artifacts saved
2025-08-31 21:01:42,378 - earnings_strategy - INFO - run_full_mode_comprehensive:2981 - === PHASE 3: ADVANCED FEATURE SELECTION ===
2025-08-31 21:01:42,391 - earnings_strategy - INFO - advanced_feature_selection:1136 - Starting advanced feature selection for classification task
2025-08-31 21:01:42,396 - earnings_strategy - INFO - advanced_feature_selection:1144 - Starting with 125 numeric features
2025-08-31 21:01:42,396 - earnings_strategy - INFO - advanced_feature_selection:1147 - Stage 1: Filter methods
2025-08-31 21:01:42,409 - earnings_strategy - INFO - advanced_feature_selection:1154 - Removed 18 constant/quasi-constant features
2025-08-31 21:01:42,416 - earnings_strategy - INFO - advanced_feature_selection:1158 - Removing highly correlated features...
2025-08-31 21:01:42,562 - earnings_strategy - INFO - advanced_feature_selection:1170 - Removed 37 highly correlated features, remaining: 70
2025-08-31 21:01:42,562 - earnings_strategy - INFO - advanced_feature_selection:1173 - Computing mutual information scores...
2025-08-31 21:01:44,277 - earnings_strategy - INFO - advanced_feature_selection:1187 - Mutual information selected 70 features
2025-08-31 21:01:44,277 - earnings_strategy - INFO - advanced_feature_selection:1190 - Stage 2: Wrapper methods (RFE)
2025-08-31 21:01:44,277 - earnings_strategy - INFO - advanced_feature_selection:1207 - RFE with logistic...
2025-08-31 21:02:02,394 - earnings_strategy - INFO - advanced_feature_selection:1223 - RFE with logistic selected 50 features
2025-08-31 21:02:02,394 - earnings_strategy - INFO - advanced_feature_selection:1207 - RFE with random_forest...
2025-08-31 21:02:11,186 - earnings_strategy - INFO - advanced_feature_selection:1223 - RFE with random_forest selected 50 features
2025-08-31 21:02:11,186 - earnings_strategy - INFO - advanced_feature_selection:1230 - Stage 3: Embedded methods
2025-08-31 21:02:11,186 - earnings_strategy - INFO - advanced_feature_selection:1235 - L1 regularization selection...
2025-08-31 21:02:11,408 - earnings_strategy - INFO - advanced_feature_selection:1264 - Lasso selected 41 features
2025-08-31 21:02:11,409 - earnings_strategy - INFO - advanced_feature_selection:1271 - Tree-based feature importance...
2025-08-31 21:02:21,322 - earnings_strategy - INFO - advanced_feature_selection:1303 - Tree-based selection chose 50 features
2025-08-31 21:02:21,322 - earnings_strategy - INFO - advanced_feature_selection:1310 - Stage 4: Ensemble feature selection
2025-08-31 21:02:21,322 - earnings_strategy - INFO - advanced_feature_selection:1359 - Final feature selection: 50 features
2025-08-31 21:02:21,322 - earnings_strategy - INFO - advanced_feature_selection:1360 - Top 10 features by consensus: ['earnings_time', 'high_before_low', 'pct_15min', 'pct_1hr', 'pct_1min', 'pct_5min', 'pct_change_close', 'pct_change_high', 'pct_change_open', 'sort_key']
2025-08-31 21:02:21,335 - earnings_strategy - INFO - run_full_mode_comprehensive:3006 - === PHASE 4: COMPREHENSIVE HYPOTHESIS TESTING ===
2025-08-31 21:02:21,335 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1369 - Testing comprehensive single-feature signals
2025-08-31 21:02:21,358 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1465 - Testing 33 conditions...
2025-08-31 21:02:27,926 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1577 - Applying multiple testing corrections...
2025-08-31 21:02:27,937 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1606 - Found 0 conditions significant by t-test (FDR corrected)
2025-08-31 21:02:27,939 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1607 - Found 0 conditions significant by U-test (FDR corrected)
2025-08-31 21:02:27,939 - earnings_strategy - INFO - run_full_mode_comprehensive:3012 - === PHASE 5: ADVANCED ML MODELING ===
2025-08-31 21:02:27,939 - earnings_strategy - INFO - train_advanced_models:1624 - Training advanced models for classification
2025-08-31 21:02:27,943 - earnings_strategy - INFO - train_advanced_models:1729 - Training logistic
2025-08-31 21:02:42,163 - earnings_strategy - INFO - train_advanced_models:1888 - logistic ROC-AUC: 0.8815 ± 0.0000
2025-08-31 21:02:42,163 - earnings_strategy - INFO - train_advanced_models:1729 - Training random_forest
2025-08-31 21:02:49,269 - earnings_strategy - INFO - train_advanced_models:1888 - random_forest ROC-AUC: 0.9906 ± 0.0000
2025-08-31 21:02:49,269 - earnings_strategy - INFO - train_advanced_models:1729 - Training xgboost
2025-08-31 21:02:50,140 - earnings_strategy - INFO - train_advanced_models:1888 - xgboost ROC-AUC: 0.9903 ± 0.0000
2025-08-31 21:02:50,140 - earnings_strategy - INFO - train_advanced_models:1729 - Training lightgbm
2025-08-31 21:02:51,306 - earnings_strategy - INFO - train_advanced_models:1888 - lightgbm ROC-AUC: 0.9887 ± 0.0000
2025-08-31 21:02:51,306 - earnings_strategy - INFO - train_advanced_models:1729 - Training mlp
2025-08-31 21:03:03,512 - earnings_strategy - INFO - train_advanced_models:1888 - mlp ROC-AUC: 0.9851 ± 0.0000
2025-08-31 21:03:03,512 - earnings_strategy - INFO - train_advanced_models:1896 - Creating model ensemble...
2025-08-31 21:03:03,528 - earnings_strategy - INFO - train_advanced_models:1942 - Ensemble ROC-AUC: 0.9809
2025-08-31 21:03:03,576 - earnings_strategy - INFO - run_full_mode_comprehensive:3019 - === PHASE 6: SOPHISTICATED STRATEGY CONSTRUCTION ===
2025-08-31 21:03:03,576 - earnings_strategy - INFO - build_sophisticated_strategies:1964 - Building sophisticated strategies from models
2025-08-31 21:03:05,350 - earnings_strategy - INFO - build_sophisticated_strategies:2162 - Adding rule-based benchmark strategies...
2025-08-31 21:03:05,350 - earnings_strategy - INFO - create_rule_based_strategies:2176 - Creating rule-based benchmark strategies
2025-08-31 21:03:06,282 - earnings_strategy - INFO - create_rule_based_strategies:2276 - Created 0 rule-based benchmark strategies
2025-08-31 21:03:06,282 - earnings_strategy - INFO - build_sophisticated_strategies:2167 - Built 0 candidate strategies
2025-08-31 21:03:06,282 - earnings_strategy - INFO - run_full_mode_comprehensive:3026 - === PHASE 7: COMPREHENSIVE STATISTICAL VALIDATION ===
2025-08-31 21:03:06,282 - earnings_strategy - INFO - perform_comprehensive_validation:2285 - Performing comprehensive statistical validation
2025-08-31 21:03:06,282 - earnings_strategy - INFO - perform_comprehensive_validation:2447 - Performing White's Reality Check...
2025-08-31 21:03:06,282 - earnings_strategy - INFO - perform_comprehensive_validation:2493 - Validation complete: 0/0 strategies significant
2025-08-31 21:03:06,282 - earnings_strategy - INFO - run_full_mode_comprehensive:3032 - === PHASE 8: EXTENSIVE ROBUSTNESS TESTING ===
2025-08-31 21:03:06,282 - earnings_strategy - INFO - perform_extensive_robustness_tests:2503 - Performing extensive robustness tests
2025-08-31 21:03:06,291 - earnings_strategy - INFO - perform_extensive_robustness_tests:2796 - Robustness testing complete: 0/0 strategies robust
2025-08-31 21:03:06,293 - earnings_strategy - INFO - run_full_mode_comprehensive:3038 - === PHASE 9: COMPREHENSIVE EXPORT ===
2025-08-31 21:03:06,293 - earnings_strategy - INFO - export_comprehensive_strategies:2806 - Exporting 0 strategies to comprehensive JSON
2025-08-31 21:03:06,295 - earnings_strategy - INFO - export_comprehensive_strategies:2952 - Successfully exported comprehensive strategies to strategies.json
2025-08-31 21:03:06,295 - earnings_strategy - INFO - run_full_mode_comprehensive:3044 - Full mode completed successfully in 0.03 hours
2025-08-31 21:03:06,300 - earnings_strategy - INFO - main:3352 - ================================================================================
2025-08-31 21:03:06,300 - earnings_strategy - INFO - main:3353 - EXECUTION COMPLETED SUCCESSFULLY
2025-08-31 21:03:06,300 - earnings_strategy - INFO - main:3354 - ================================================================================
2025-08-31 21:13:36,060 - earnings_strategy - INFO - main:3368 - ================================================================================
2025-08-31 21:13:36,060 - earnings_strategy - INFO - main:3369 - ADVANCED EARNINGS STRATEGY DISCOVERY SYSTEM
2025-08-31 21:13:36,060 - earnings_strategy - INFO - main:3370 - ================================================================================
2025-08-31 21:13:36,060 - earnings_strategy - INFO - main:3371 - Mode: FULL
2025-08-31 21:13:36,060 - earnings_strategy - INFO - main:3372 - Input CSV: earnings_data.csv
2025-08-31 21:13:36,060 - earnings_strategy - INFO - main:3373 - Output: strategies.json
2025-08-31 21:13:36,060 - earnings_strategy - INFO - main:3374 - Transaction Costs: 5.0 bps + 5.0 bps slippage
2025-08-31 21:13:36,060 - earnings_strategy - INFO - main:3375 - Random Seed: 42
2025-08-31 21:13:36,060 - earnings_strategy - INFO - main:3376 - Log Level: INFO
2025-08-31 21:13:36,060 - earnings_strategy - INFO - main:3377 - Available CPU Cores: 8
2025-08-31 21:13:36,060 - earnings_strategy - INFO - main:3378 - ================================================================================
2025-08-31 21:13:36,060 - earnings_strategy - INFO - run_full_mode_comprehensive:3000 - Starting comprehensive full mode execution
2025-08-31 21:13:36,076 - earnings_strategy - INFO - run_full_mode_comprehensive:3011 - === PHASE 1: DATA PREPARATION ===
2025-08-31 21:13:36,076 - earnings_strategy - INFO - load_and_validate_data:462 - Loading data from earnings_data.csv
2025-08-31 21:13:36,104 - earnings_strategy - INFO - load_and_validate_data:472 - Successfully loaded with utf-8 encoding
2025-08-31 21:13:36,104 - earnings_strategy - INFO - load_and_validate_data:480 - Loaded 1431 rows and 37 columns
2025-08-31 21:13:36,109 - earnings_strategy - INFO - load_and_validate_data:498 - Validating data quality...
2025-08-31 21:13:36,150 - earnings_strategy - WARNING - load_and_validate_data:512 - Found 1 out-of-range values in market_cap
2025-08-31 21:13:36,155 - earnings_strategy - WARNING - load_and_validate_data:512 - Found 8 out-of-range values in volume_ratio_7_day
2025-08-31 21:13:36,160 - earnings_strategy - WARNING - load_and_validate_data:512 - Found 1172 out-of-range values in pct_change_open
2025-08-31 21:13:36,160 - earnings_strategy - INFO - clean_and_normalize_data:520 - Starting comprehensive data cleaning and normalization
2025-08-31 21:13:36,183 - earnings_strategy - INFO - clean_and_normalize_data:543 - Removed 0 rows with invalid dates
2025-08-31 21:13:36,183 - earnings_strategy - INFO - clean_and_normalize_data:546 - Processing missing value markers...
2025-08-31 21:13:36,281 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 63 outliers in alpaca_prev_close
2025-08-31 21:13:36,289 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 60 outliers in close_price
2025-08-31 21:13:36,313 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 61 outliers in high_price
2025-08-31 21:13:36,323 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 60 outliers in low_price
2025-08-31 21:13:36,330 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 137 outliers in market_cap
2025-08-31 21:13:36,338 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 62 outliers in open_price
2025-08-31 21:13:36,347 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 135 outliers in opening_minute_volume
2025-08-31 21:13:36,358 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 11 outliers in pct_15min
2025-08-31 21:13:36,366 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 8 outliers in pct_1hr
2025-08-31 21:13:36,375 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 37 outliers in pct_1min
2025-08-31 21:13:36,383 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 8 outliers in pct_30min
2025-08-31 21:13:36,387 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 8 outliers in pct_5min
2025-08-31 21:13:36,402 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 20 outliers in pct_change_close
2025-08-31 21:13:36,425 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 16 outliers in pct_change_high
2025-08-31 21:13:36,441 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 14 outliers in pct_change_low
2025-08-31 21:13:36,450 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 35 outliers in pct_change_open
2025-08-31 21:13:36,460 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 47 outliers in premarket_high
2025-08-31 21:13:36,468 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 47 outliers in premarket_low
2025-08-31 21:13:36,480 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 141 outliers in premarket_volume
2025-08-31 21:13:36,488 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 63 outliers in reference_prev_close
2025-08-31 21:13:36,497 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 60 outliers in revenue_surprise
2025-08-31 21:13:36,522 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 16 outliers in sort_key
2025-08-31 21:13:36,531 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 118 outliers in surprise
2025-08-31 21:13:36,549 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 80 outliers in volume_30_day_avg
2025-08-31 21:13:36,555 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 78 outliers in volume_7_day_avg
2025-08-31 21:13:36,563 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 63 outliers in volume_ratio_30_day
2025-08-31 21:13:36,579 - earnings_strategy - INFO - clean_and_normalize_data:579 - Found 67 outliers in volume_ratio_7_day
2025-08-31 21:13:36,625 - earnings_strategy - INFO - clean_and_normalize_data:607 - Performing advanced deduplication...
2025-08-31 21:13:36,704 - earnings_strategy - INFO - clean_and_normalize_data:632 - Running final data validation...
2025-08-31 21:13:36,704 - earnings_strategy - INFO - clean_and_normalize_data:641 - Data covers 37 days from 2025-07-21 00:00:00 to 2025-08-27 00:00:00
2025-08-31 21:13:36,708 - earnings_strategy - INFO - clean_and_normalize_data:643 - Data cleaning complete. Final dataset: 1431 rows (0 removed)
2025-08-31 21:13:36,708 - earnings_strategy - INFO - engineer_features_comprehensive:651 - Starting comprehensive feature engineering
2025-08-31 21:13:36,713 - earnings_strategy - INFO - engineer_features_comprehensive:657 - Filling missing values...
2025-08-31 21:13:45,640 - earnings_strategy - INFO - engineer_features_comprehensive:678 - Creating premarket features...
2025-08-31 21:13:45,649 - earnings_strategy - INFO - engineer_features_comprehensive:687 - Creating market cap features...
2025-08-31 21:13:45,653 - earnings_strategy - INFO - engineer_features_comprehensive:701 - Creating volume features...
2025-08-31 21:13:45,700 - earnings_strategy - INFO - engineer_features_comprehensive:725 - Creating intraday features...
2025-08-31 21:13:46,279 - earnings_strategy - INFO - engineer_features_comprehensive:754 - Creating surprise features...
2025-08-31 21:13:46,285 - earnings_strategy - INFO - engineer_features_comprehensive:774 - Creating timing features...
2025-08-31 21:13:46,295 - earnings_strategy - INFO - engineer_features_comprehensive:791 - Creating technical features...
2025-08-31 21:13:46,297 - earnings_strategy - INFO - engineer_features_comprehensive:806 - Creating cross-sectional features...
2025-08-31 21:13:46,316 - earnings_strategy - INFO - engineer_features_comprehensive:820 - Creating interaction features...
2025-08-31 21:13:46,326 - earnings_strategy - INFO - engineer_features_comprehensive:839 - Creating regime features...
2025-08-31 21:13:46,335 - earnings_strategy - INFO - engineer_features_comprehensive:854 - Creating categorical dummies...
2025-08-31 21:13:46,365 - earnings_strategy - INFO - engineer_features_comprehensive:901 - Creating lagged features...
2025-08-31 21:13:46,798 - earnings_strategy - INFO - engineer_features_comprehensive:933 - Feature engineering complete. Added 101 new features (total: 138)
2025-08-31 21:13:46,798 - earnings_strategy - INFO - create_comprehensive_targets:941 - Creating comprehensive target variables
2025-08-31 21:13:46,831 - earnings_strategy - INFO - create_comprehensive_targets:1003 - Removed 0 rows with missing target values
2025-08-31 21:13:46,831 - earnings_strategy - INFO - create_comprehensive_targets:1009 - Primary target (target_2pct_up) positive rate: 0.284
2025-08-31 21:13:46,831 - earnings_strategy - INFO - create_comprehensive_targets:1017 - Next session return - Mean: -0.0079, Std: 0.0617
2025-08-31 21:13:46,841 - earnings_strategy - INFO - create_comprehensive_targets:1018 - Return percentiles - 5%: -0.1133, 95%: 0.0876
2025-08-31 21:13:46,841 - earnings_strategy - INFO - create_comprehensive_targets:1020 - Target creation complete. Dataset shape: (1431, 162)
2025-08-31 21:13:46,844 - earnings_strategy - INFO - run_full_mode_comprehensive:3017 - === PHASE 2: COMPREHENSIVE EDA ===
2025-08-31 21:13:46,844 - earnings_strategy - INFO - perform_comprehensive_eda:1028 - Performing comprehensive exploratory data analysis
2025-08-31 21:13:46,844 - earnings_strategy - INFO - perform_comprehensive_eda:1033 - Computing summary statistics...
2025-08-31 21:13:47,171 - earnings_strategy - INFO - perform_comprehensive_eda:1042 - Performing correlation analysis...
2025-08-31 21:13:47,667 - earnings_strategy - INFO - perform_comprehensive_eda:1068 - Performing data leakage detection...
2025-08-31 21:13:48,019 - earnings_strategy - INFO - perform_comprehensive_eda:1117 - Analyzing feature distributions...
2025-08-31 21:13:48,053 - earnings_strategy - INFO - perform_comprehensive_eda:1138 - Performing time series analysis...
2025-08-31 21:13:48,064 - earnings_strategy - INFO - perform_comprehensive_eda:1164 - Analyzing sector distributions...
2025-08-31 21:13:48,095 - earnings_strategy - INFO - perform_comprehensive_eda:1184 - Comprehensive EDA complete, artifacts saved
2025-08-31 21:13:48,097 - earnings_strategy - INFO - run_full_mode_comprehensive:3021 - === PHASE 3: ADVANCED FEATURE SELECTION ===
2025-08-31 21:13:48,100 - earnings_strategy - INFO - advanced_feature_selection:1192 - Starting advanced feature selection for classification task
2025-08-31 21:13:48,105 - earnings_strategy - INFO - advanced_feature_selection:1200 - Starting with 125 numeric features
2025-08-31 21:13:48,106 - earnings_strategy - INFO - advanced_feature_selection:1203 - Stage 1: Filter methods
2025-08-31 21:13:48,112 - earnings_strategy - INFO - advanced_feature_selection:1210 - Removed 18 constant/quasi-constant features
2025-08-31 21:13:48,115 - earnings_strategy - INFO - advanced_feature_selection:1214 - Removing highly correlated features...
2025-08-31 21:13:48,211 - earnings_strategy - INFO - advanced_feature_selection:1226 - Removed 37 highly correlated features, remaining: 70
2025-08-31 21:13:48,211 - earnings_strategy - INFO - advanced_feature_selection:1229 - Computing mutual information scores...
2025-08-31 21:13:49,916 - earnings_strategy - INFO - advanced_feature_selection:1243 - Mutual information selected 70 features
2025-08-31 21:13:49,916 - earnings_strategy - INFO - advanced_feature_selection:1246 - Stage 2: Wrapper methods (RFE)
2025-08-31 21:13:49,916 - earnings_strategy - INFO - advanced_feature_selection:1263 - RFE with logistic...
2025-08-31 21:14:08,129 - earnings_strategy - INFO - advanced_feature_selection:1279 - RFE with logistic selected 50 features
2025-08-31 21:14:08,129 - earnings_strategy - INFO - advanced_feature_selection:1263 - RFE with random_forest...
2025-08-31 21:14:17,130 - earnings_strategy - INFO - advanced_feature_selection:1279 - RFE with random_forest selected 50 features
2025-08-31 21:14:17,130 - earnings_strategy - INFO - advanced_feature_selection:1286 - Stage 3: Embedded methods
2025-08-31 21:14:17,130 - earnings_strategy - INFO - advanced_feature_selection:1291 - L1 regularization selection...
2025-08-31 21:14:17,281 - earnings_strategy - INFO - advanced_feature_selection:1320 - Lasso selected 41 features
2025-08-31 21:14:17,281 - earnings_strategy - INFO - advanced_feature_selection:1327 - Tree-based feature importance...
2025-08-31 21:14:26,590 - earnings_strategy - INFO - advanced_feature_selection:1359 - Tree-based selection chose 50 features
2025-08-31 21:14:26,590 - earnings_strategy - INFO - advanced_feature_selection:1366 - Stage 4: Ensemble feature selection
2025-08-31 21:14:26,590 - earnings_strategy - INFO - advanced_feature_selection:1415 - Final feature selection: 50 features
2025-08-31 21:14:26,590 - earnings_strategy - INFO - advanced_feature_selection:1416 - Top 10 features by consensus: ['earnings_time', 'high_before_low', 'pct_15min', 'pct_1hr', 'pct_1min', 'pct_5min', 'pct_change_close', 'pct_change_high', 'pct_change_open', 'sort_key']
2025-08-31 21:14:26,603 - earnings_strategy - INFO - run_full_mode_comprehensive:3046 - === PHASE 4: COMPREHENSIVE HYPOTHESIS TESTING ===
2025-08-31 21:14:26,603 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1425 - Testing comprehensive single-feature signals
2025-08-31 21:14:26,627 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1521 - Testing 33 conditions...
2025-08-31 21:14:32,896 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1633 - Applying multiple testing corrections...
2025-08-31 21:14:32,912 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1662 - Found 0 conditions significant by t-test (FDR corrected)
2025-08-31 21:14:32,912 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1663 - Found 0 conditions significant by U-test (FDR corrected)
2025-08-31 21:14:32,912 - earnings_strategy - INFO - run_full_mode_comprehensive:3052 - === PHASE 5: ADVANCED ML MODELING ===
2025-08-31 21:14:32,912 - earnings_strategy - INFO - train_advanced_models:1680 - Training advanced models for classification
2025-08-31 21:14:32,930 - earnings_strategy - INFO - train_advanced_models:1785 - Training logistic
2025-08-31 21:14:47,003 - earnings_strategy - INFO - train_advanced_models:1944 - logistic ROC-AUC: 0.8815 ± 0.0000
2025-08-31 21:14:47,003 - earnings_strategy - INFO - train_advanced_models:1785 - Training random_forest
2025-08-31 21:14:54,297 - earnings_strategy - INFO - train_advanced_models:1944 - random_forest ROC-AUC: 0.9906 ± 0.0000
2025-08-31 21:14:54,297 - earnings_strategy - INFO - train_advanced_models:1785 - Training xgboost
2025-08-31 21:14:55,025 - earnings_strategy - INFO - train_advanced_models:1944 - xgboost ROC-AUC: 0.9903 ± 0.0000
2025-08-31 21:14:55,025 - earnings_strategy - INFO - train_advanced_models:1785 - Training lightgbm
2025-08-31 21:14:56,124 - earnings_strategy - INFO - train_advanced_models:1944 - lightgbm ROC-AUC: 0.9887 ± 0.0000
2025-08-31 21:14:56,124 - earnings_strategy - INFO - train_advanced_models:1785 - Training mlp
2025-08-31 21:15:08,413 - earnings_strategy - INFO - train_advanced_models:1944 - mlp ROC-AUC: 0.9851 ± 0.0000
2025-08-31 21:15:08,423 - earnings_strategy - INFO - train_advanced_models:1952 - Creating model ensemble...
2025-08-31 21:15:08,423 - earnings_strategy - INFO - train_advanced_models:1998 - Ensemble ROC-AUC: 0.9809
2025-08-31 21:15:08,477 - earnings_strategy - INFO - run_full_mode_comprehensive:3059 - === PHASE 6: SOPHISTICATED STRATEGY CONSTRUCTION ===
2025-08-31 21:15:08,477 - earnings_strategy - INFO - build_sophisticated_strategies:2020 - Building sophisticated strategies from models
2025-08-31 21:15:08,480 - earnings_strategy - INFO - build_sophisticated_strategies:2037 - Testing 3 prob thresholds, 2 volume thresholds
2025-08-31 21:15:08,480 - earnings_strategy - INFO - build_sophisticated_strategies:2038 - Data aligned: 1431 observations
2025-08-31 21:15:08,480 - earnings_strategy - INFO - build_sophisticated_strategies:2039 - Mean target return: -0.0079
2025-08-31 21:15:08,480 - earnings_strategy - INFO - build_sophisticated_strategies:2044 - Processing model: logistic
2025-08-31 21:15:08,489 - earnings_strategy - INFO - build_sophisticated_strategies:2089 - Model logistic: mean probability = 0.288, std = 0.349
2025-08-31 21:15:08,502 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 1: Model=logistic, P=0.50, V=1.0
2025-08-31 21:15:08,502 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 376, Volume signal: 0
2025-08-31 21:15:08,505 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,505 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,505 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 2: Model=logistic, P=0.50, V=1.2
2025-08-31 21:15:08,505 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 376, Volume signal: 0
2025-08-31 21:15:08,505 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,505 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,513 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 3: Model=logistic, P=0.55, V=1.0
2025-08-31 21:15:08,513 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 352, Volume signal: 0
2025-08-31 21:15:08,513 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,513 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,513 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 4: Model=logistic, P=0.55, V=1.2
2025-08-31 21:15:08,522 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 352, Volume signal: 0
2025-08-31 21:15:08,522 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,522 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,526 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 5: Model=logistic, P=0.60, V=1.0
2025-08-31 21:15:08,526 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 324, Volume signal: 0
2025-08-31 21:15:08,526 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,526 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,526 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 6: Model=logistic, P=0.60, V=1.2
2025-08-31 21:15:08,526 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 324, Volume signal: 0
2025-08-31 21:15:08,526 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,526 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,526 - earnings_strategy - INFO - build_sophisticated_strategies:2044 - Processing model: random_forest
2025-08-31 21:15:08,800 - earnings_strategy - INFO - build_sophisticated_strategies:2089 - Model random_forest: mean probability = 0.286, std = 0.408
2025-08-31 21:15:08,851 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 7: Model=random_forest, P=0.50, V=1.0
2025-08-31 21:15:08,865 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 406, Volume signal: 0
2025-08-31 21:15:08,873 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,873 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,877 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 8: Model=random_forest, P=0.50, V=1.2
2025-08-31 21:15:08,877 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 406, Volume signal: 0
2025-08-31 21:15:08,877 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,877 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,881 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 9: Model=random_forest, P=0.55, V=1.0
2025-08-31 21:15:08,882 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 404, Volume signal: 0
2025-08-31 21:15:08,884 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,884 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,889 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 10: Model=random_forest, P=0.55, V=1.2
2025-08-31 21:15:08,889 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 404, Volume signal: 0
2025-08-31 21:15:08,892 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,892 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,896 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 11: Model=random_forest, P=0.60, V=1.0
2025-08-31 21:15:08,905 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 402, Volume signal: 0
2025-08-31 21:15:08,906 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,908 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,910 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 12: Model=random_forest, P=0.60, V=1.2
2025-08-31 21:15:08,912 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 402, Volume signal: 0
2025-08-31 21:15:08,914 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,914 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,914 - earnings_strategy - INFO - build_sophisticated_strategies:2044 - Processing model: xgboost
2025-08-31 21:15:08,930 - earnings_strategy - INFO - build_sophisticated_strategies:2089 - Model xgboost: mean probability = 0.287, std = 0.446
2025-08-31 21:15:08,938 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 13: Model=xgboost, P=0.50, V=1.0
2025-08-31 21:15:08,938 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 408, Volume signal: 0
2025-08-31 21:15:08,938 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,940 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,942 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 14: Model=xgboost, P=0.50, V=1.2
2025-08-31 21:15:08,942 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 408, Volume signal: 0
2025-08-31 21:15:08,942 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,944 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,946 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 15: Model=xgboost, P=0.55, V=1.0
2025-08-31 21:15:08,946 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 408, Volume signal: 0
2025-08-31 21:15:08,946 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,946 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,948 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 16: Model=xgboost, P=0.55, V=1.2
2025-08-31 21:15:08,950 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 408, Volume signal: 0
2025-08-31 21:15:08,950 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,950 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,951 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 17: Model=xgboost, P=0.60, V=1.0
2025-08-31 21:15:08,953 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 407, Volume signal: 0
2025-08-31 21:15:08,954 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,954 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,956 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 18: Model=xgboost, P=0.60, V=1.2
2025-08-31 21:15:08,958 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 407, Volume signal: 0
2025-08-31 21:15:08,958 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,958 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,960 - earnings_strategy - INFO - build_sophisticated_strategies:2044 - Processing model: lightgbm
2025-08-31 21:15:08,968 - earnings_strategy - INFO - build_sophisticated_strategies:2089 - Model lightgbm: mean probability = 0.287, std = 0.450
2025-08-31 21:15:08,985 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 19: Model=lightgbm, P=0.50, V=1.0
2025-08-31 21:15:08,987 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 410, Volume signal: 0
2025-08-31 21:15:08,989 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:08,991 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:08,995 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 20: Model=lightgbm, P=0.50, V=1.2
2025-08-31 21:15:08,995 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 410, Volume signal: 0
2025-08-31 21:15:08,997 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:09,003 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:09,004 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 21: Model=lightgbm, P=0.55, V=1.0
2025-08-31 21:15:09,006 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 410, Volume signal: 0
2025-08-31 21:15:09,006 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:09,006 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:09,008 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 22: Model=lightgbm, P=0.55, V=1.2
2025-08-31 21:15:09,010 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 410, Volume signal: 0
2025-08-31 21:15:09,010 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:09,010 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:09,012 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 23: Model=lightgbm, P=0.60, V=1.0
2025-08-31 21:15:09,012 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 410, Volume signal: 0
2025-08-31 21:15:09,012 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:09,012 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:09,017 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 24: Model=lightgbm, P=0.60, V=1.2
2025-08-31 21:15:09,017 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 410, Volume signal: 0
2025-08-31 21:15:09,017 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:09,017 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:09,017 - earnings_strategy - INFO - build_sophisticated_strategies:2044 - Processing model: mlp
2025-08-31 21:15:09,027 - earnings_strategy - INFO - build_sophisticated_strategies:2089 - Model mlp: mean probability = 0.288, std = 0.441
2025-08-31 21:15:09,036 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 25: Model=mlp, P=0.50, V=1.0
2025-08-31 21:15:09,036 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 410, Volume signal: 0
2025-08-31 21:15:09,037 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:09,037 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:09,039 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 26: Model=mlp, P=0.50, V=1.2
2025-08-31 21:15:09,041 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 410, Volume signal: 0
2025-08-31 21:15:09,041 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:09,041 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:09,043 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 27: Model=mlp, P=0.55, V=1.0
2025-08-31 21:15:09,043 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 408, Volume signal: 0
2025-08-31 21:15:09,045 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:09,045 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:09,047 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 28: Model=mlp, P=0.55, V=1.2
2025-08-31 21:15:09,047 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 408, Volume signal: 0
2025-08-31 21:15:09,047 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:09,049 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:09,051 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 29: Model=mlp, P=0.60, V=1.0
2025-08-31 21:15:09,051 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 408, Volume signal: 0
2025-08-31 21:15:09,051 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:09,051 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:09,056 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 30: Model=mlp, P=0.60, V=1.2
2025-08-31 21:15:09,056 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 408, Volume signal: 0
2025-08-31 21:15:09,056 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:09,056 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:09,058 - earnings_strategy - INFO - build_sophisticated_strategies:2044 - Processing model: ensemble
2025-08-31 21:15:09,058 - earnings_strategy - INFO - build_sophisticated_strategies:2089 - Model ensemble: mean probability = 0.375, std = 0.122
2025-08-31 21:15:09,063 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 31: Model=ensemble, P=0.50, V=1.0
2025-08-31 21:15:09,063 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 49, Volume signal: 0
2025-08-31 21:15:09,063 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:09,063 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:09,068 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 32: Model=ensemble, P=0.50, V=1.2
2025-08-31 21:15:09,068 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 49, Volume signal: 0
2025-08-31 21:15:09,068 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:09,069 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:09,072 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 33: Model=ensemble, P=0.55, V=1.0
2025-08-31 21:15:09,072 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 49, Volume signal: 0
2025-08-31 21:15:09,072 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:09,072 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:09,072 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 34: Model=ensemble, P=0.55, V=1.2
2025-08-31 21:15:09,072 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 49, Volume signal: 0
2025-08-31 21:15:09,072 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:09,072 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:09,078 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 35: Model=ensemble, P=0.60, V=1.0
2025-08-31 21:15:09,078 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 46, Volume signal: 0
2025-08-31 21:15:09,079 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:09,079 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:09,079 - earnings_strategy - INFO - build_sophisticated_strategies:2128 - Strategy 36: Model=ensemble, P=0.60, V=1.2
2025-08-31 21:15:09,079 - earnings_strategy - INFO - build_sophisticated_strategies:2129 -   Base signal: 46, Volume signal: 0
2025-08-31 21:15:09,079 - earnings_strategy - INFO - build_sophisticated_strategies:2130 -   Cap signal: 1431, Combined: 0
2025-08-31 21:15:09,079 - earnings_strategy - INFO - build_sophisticated_strategies:2133 -   Skipping: too few signals (0)
2025-08-31 21:15:09,079 - earnings_strategy - INFO - build_sophisticated_strategies:2176 - Tested 36 strategy combinations from ML models
2025-08-31 21:15:09,079 - earnings_strategy - INFO - build_sophisticated_strategies:2179 - Adding rule-based benchmark strategies...
2025-08-31 21:15:09,079 - earnings_strategy - INFO - create_rule_based_strategies:2194 - Creating rule-based benchmark strategies
2025-08-31 21:15:09,087 - earnings_strategy - INFO - create_rule_based_strategies:2205 - Rule-based strategies: 1431 aligned observations
2025-08-31 21:15:09,087 - earnings_strategy - INFO - create_rule_based_strategies:2206 - Target mean return: -0.0079
2025-08-31 21:15:09,087 - earnings_strategy - INFO - create_rule_based_strategies:2213 - Surprise column: 1431 valid values, mean=46.75
2025-08-31 21:15:09,087 - earnings_strategy - INFO - create_rule_based_strategies:2220 - Rule strategy 1: Surprise > 0%, signals: 1431
2025-08-31 21:15:09,087 - earnings_strategy - INFO - create_rule_based_strategies:2225 -   Results: monthly_return=-0.1863, trades=1431, win_rate=0.440
2025-08-31 21:15:09,174 - earnings_strategy - INFO - create_rule_based_strategies:2220 - Rule strategy 2: Surprise > 0.5%, signals: 1431
2025-08-31 21:15:09,174 - earnings_strategy - INFO - create_rule_based_strategies:2225 -   Results: monthly_return=-0.1863, trades=1431, win_rate=0.440
2025-08-31 21:15:09,174 - earnings_strategy - INFO - create_rule_based_strategies:2220 - Rule strategy 3: Surprise > 1%, signals: 1431
2025-08-31 21:15:09,189 - earnings_strategy - INFO - create_rule_based_strategies:2225 -   Results: monthly_return=-0.1863, trades=1431, win_rate=0.440
2025-08-31 21:15:09,189 - earnings_strategy - INFO - create_rule_based_strategies:2242 - Volume ratio column: 1431 valid values, mean=0.05
2025-08-31 21:15:09,189 - earnings_strategy - INFO - create_rule_based_strategies:2249 - Rule strategy 4: Volume > 1.0x, signals: 0
2025-08-31 21:15:09,189 - earnings_strategy - INFO - create_rule_based_strategies:2249 - Rule strategy 5: Volume > 1.1x, signals: 0
2025-08-31 21:15:09,189 - earnings_strategy - INFO - create_rule_based_strategies:2249 - Rule strategy 6: Volume > 1.2x, signals: 0
2025-08-31 21:15:09,202 - earnings_strategy - INFO - create_rule_based_strategies:2272 - pct_1min column: 1431 valid values, mean=-0.240
2025-08-31 21:15:09,202 - earnings_strategy - INFO - create_rule_based_strategies:2279 - Rule strategy 7: pct_1min > 0%, signals: 548
2025-08-31 21:15:09,205 - earnings_strategy - INFO - create_rule_based_strategies:2284 -   Results: monthly_return=0.1268, trades=548, win_rate=0.560
2025-08-31 21:15:09,209 - earnings_strategy - INFO - create_rule_based_strategies:2279 - Rule strategy 8: pct_1min > 0.5%, signals: 363
2025-08-31 21:15:09,218 - earnings_strategy - INFO - create_rule_based_strategies:2284 -   Results: monthly_return=0.2201, trades=363, win_rate=0.584
2025-08-31 21:15:09,222 - earnings_strategy - INFO - create_rule_based_strategies:2279 - Rule strategy 9: pct_1min > 1.0%, signals: 238
2025-08-31 21:15:09,227 - earnings_strategy - INFO - create_rule_based_strategies:2284 -   Results: monthly_return=0.2603, trades=238, win_rate=0.622
2025-08-31 21:15:09,234 - earnings_strategy - INFO - create_rule_based_strategies:2272 - pct_5min column: 1431 valid values, mean=-0.321
2025-08-31 21:15:09,237 - earnings_strategy - INFO - create_rule_based_strategies:2279 - Rule strategy 10: pct_5min > 0%, signals: 670
2025-08-31 21:15:09,238 - earnings_strategy - INFO - create_rule_based_strategies:2284 -   Results: monthly_return=0.4104, trades=670, win_rate=0.667
2025-08-31 21:15:09,245 - earnings_strategy - INFO - create_rule_based_strategies:2279 - Rule strategy 11: pct_5min > 0.5%, signals: 566
2025-08-31 21:15:09,251 - earnings_strategy - INFO - create_rule_based_strategies:2284 -   Results: monthly_return=0.5076, trades=566, win_rate=0.712
2025-08-31 21:15:09,257 - earnings_strategy - INFO - create_rule_based_strategies:2279 - Rule strategy 12: pct_5min > 1.0%, signals: 454
2025-08-31 21:15:09,257 - earnings_strategy - INFO - create_rule_based_strategies:2284 -   Results: monthly_return=0.5989, trades=454, win_rate=0.744
2025-08-31 21:15:09,266 - earnings_strategy - INFO - create_rule_based_strategies:2272 - pct_15min column: 1431 valid values, mean=-0.497
2025-08-31 21:15:09,271 - earnings_strategy - INFO - create_rule_based_strategies:2279 - Rule strategy 13: pct_15min > 0%, signals: 660
2025-08-31 21:15:09,274 - earnings_strategy - INFO - create_rule_based_strategies:2284 -   Results: monthly_return=0.5254, trades=660, win_rate=0.714
2025-08-31 21:15:09,282 - earnings_strategy - INFO - create_rule_based_strategies:2279 - Rule strategy 14: pct_15min > 0.5%, signals: 565
2025-08-31 21:15:09,287 - earnings_strategy - INFO - create_rule_based_strategies:2284 -   Results: monthly_return=0.6199, trades=565, win_rate=0.750
2025-08-31 21:15:09,292 - earnings_strategy - INFO - create_rule_based_strategies:2279 - Rule strategy 15: pct_15min > 1.0%, signals: 482
2025-08-31 21:15:09,299 - earnings_strategy - INFO - create_rule_based_strategies:2284 -   Results: monthly_return=0.7061, trades=482, win_rate=0.784
2025-08-31 21:15:09,305 - earnings_strategy - INFO - create_rule_based_strategies:2301 - Rule strategy 16: Always long, signals: 1431
2025-08-31 21:15:09,308 - earnings_strategy - INFO - create_rule_based_strategies:2304 -   Results: monthly_return=-0.1863, trades=1431, win_rate=0.440
2025-08-31 21:15:09,315 - earnings_strategy - INFO - create_rule_based_strategies:2316 - Tested 16 rule-based strategies, created 13
2025-08-31 21:15:09,315 - earnings_strategy - INFO - build_sophisticated_strategies:2185 - Built 13 candidate strategies total
2025-08-31 21:15:09,317 - earnings_strategy - INFO - run_full_mode_comprehensive:3066 - === PHASE 7: COMPREHENSIVE STATISTICAL VALIDATION ===
2025-08-31 21:15:09,317 - earnings_strategy - INFO - perform_comprehensive_validation:2325 - Performing comprehensive statistical validation
2025-08-31 21:15:09,354 - earnings_strategy - ERROR - run_full_mode_comprehensive:3087 - Fatal error in full mode: scale < 0
Traceback (most recent call last):
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 3067, in run_full_mode_comprehensive
    validated_strategies = perform_comprehensive_validation(
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 2367, in perform_comprehensive_validation
    win_returns = np.random.exponential(avg_return * 2, n_wins)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "numpy\\random\\mtrand.pyx", line 575, in numpy.random.mtrand.RandomState.exponential
  File "_common.pyx", line 633, in numpy.random._common.cont
  File "_common.pyx", line 435, in numpy.random._common.check_constraint
ValueError: scale < 0
2025-08-31 21:15:09,356 - earnings_strategy - INFO - export_comprehensive_strategies:2846 - Exporting 0 strategies to comprehensive JSON
2025-08-31 21:15:09,356 - earnings_strategy - INFO - export_comprehensive_strategies:2992 - Successfully exported comprehensive strategies to strategies.json
2025-08-31 21:15:09,360 - earnings_strategy - ERROR - main:3401 - Fatal error: scale < 0
Traceback (most recent call last):
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 3382, in main
    run_full_mode_comprehensive(
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 3067, in run_full_mode_comprehensive
    validated_strategies = perform_comprehensive_validation(
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 2367, in perform_comprehensive_validation
    win_returns = np.random.exponential(avg_return * 2, n_wins)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "numpy\\random\\mtrand.pyx", line 575, in numpy.random.mtrand.RandomState.exponential
  File "_common.pyx", line 633, in numpy.random._common.cont
  File "_common.pyx", line 435, in numpy.random._common.check_constraint
ValueError: scale < 0
2025-09-01 22:11:40,662 - earnings_strategy - ERROR - main:3632 - Input CSV file does not exist: data.csv
2025-09-01 22:15:19,503 - earnings_strategy - INFO - main:3644 - ================================================================================
2025-09-01 22:15:19,505 - earnings_strategy - INFO - main:3645 - ADVANCED EARNINGS STRATEGY DISCOVERY SYSTEM
2025-09-01 22:15:19,505 - earnings_strategy - INFO - main:3646 - ================================================================================
2025-09-01 22:15:19,505 - earnings_strategy - INFO - main:3647 - Mode: FULL
2025-09-01 22:15:19,505 - earnings_strategy - INFO - main:3648 - Input CSV: earnings_data.csv
2025-09-01 22:15:19,505 - earnings_strategy - INFO - main:3649 - Output: strategies.json
2025-09-01 22:15:19,505 - earnings_strategy - INFO - main:3650 - Transaction Costs: 5.0 bps + 5.0 bps slippage
2025-09-01 22:15:19,505 - earnings_strategy - INFO - main:3651 - Random Seed: 42
2025-09-01 22:15:19,508 - earnings_strategy - INFO - main:3652 - Log Level: INFO
2025-09-01 22:15:19,508 - earnings_strategy - INFO - main:3653 - Available CPU Cores: 8
2025-09-01 22:15:19,508 - earnings_strategy - INFO - main:3654 - ================================================================================
2025-09-01 22:15:19,509 - earnings_strategy - INFO - run_full_mode_comprehensive:3278 - Starting comprehensive full mode execution
2025-09-01 22:15:19,547 - earnings_strategy - INFO - run_full_mode_comprehensive:3289 - === PHASE 1: DATA PREPARATION ===
2025-09-01 22:15:19,547 - earnings_strategy - INFO - load_and_validate_data:757 - Loading data from earnings_data.csv
2025-09-01 22:15:19,678 - earnings_strategy - INFO - load_and_validate_data:767 - Successfully loaded with utf-8 encoding
2025-09-01 22:15:19,678 - earnings_strategy - INFO - load_and_validate_data:775 - Loaded 1431 rows and 37 columns
2025-09-01 22:15:19,696 - earnings_strategy - INFO - load_and_validate_data:793 - Validating data quality...
2025-09-01 22:15:19,704 - earnings_strategy - WARNING - load_and_validate_data:807 - Found 1 out-of-range values in market_cap
2025-09-01 22:15:19,714 - earnings_strategy - WARNING - load_and_validate_data:807 - Found 8 out-of-range values in volume_ratio_7_day
2025-09-01 22:15:19,719 - earnings_strategy - WARNING - load_and_validate_data:807 - Found 1172 out-of-range values in pct_change_open
2025-09-01 22:15:19,720 - earnings_strategy - INFO - clean_and_normalize_data:815 - Starting comprehensive data cleaning and normalization
2025-09-01 22:15:19,767 - earnings_strategy - INFO - clean_and_normalize_data:838 - Removed 0 rows with invalid dates
2025-09-01 22:15:19,767 - earnings_strategy - INFO - clean_and_normalize_data:841 - Processing missing value markers...
2025-09-01 22:15:19,859 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 63 outliers in alpaca_prev_close
2025-09-01 22:15:19,865 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 60 outliers in close_price
2025-09-01 22:15:19,886 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 61 outliers in high_price
2025-09-01 22:15:19,896 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 60 outliers in low_price
2025-09-01 22:15:19,902 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 137 outliers in market_cap
2025-09-01 22:15:19,913 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 62 outliers in open_price
2025-09-01 22:15:19,919 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 135 outliers in opening_minute_volume
2025-09-01 22:15:19,930 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 11 outliers in pct_15min
2025-09-01 22:15:19,941 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 8 outliers in pct_1hr
2025-09-01 22:15:19,951 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 37 outliers in pct_1min
2025-09-01 22:15:19,964 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 8 outliers in pct_30min
2025-09-01 22:15:19,971 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 8 outliers in pct_5min
2025-09-01 22:15:19,980 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 20 outliers in pct_change_close
2025-09-01 22:15:19,997 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 16 outliers in pct_change_high
2025-09-01 22:15:20,016 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 14 outliers in pct_change_low
2025-09-01 22:15:20,023 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 35 outliers in pct_change_open
2025-09-01 22:15:20,035 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 47 outliers in premarket_high
2025-09-01 22:15:20,046 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 47 outliers in premarket_low
2025-09-01 22:15:20,051 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 141 outliers in premarket_volume
2025-09-01 22:15:20,065 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 63 outliers in reference_prev_close
2025-09-01 22:15:20,075 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 60 outliers in revenue_surprise
2025-09-01 22:15:20,091 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 16 outliers in sort_key
2025-09-01 22:15:20,101 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 118 outliers in surprise
2025-09-01 22:15:20,128 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 80 outliers in volume_30_day_avg
2025-09-01 22:15:20,136 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 78 outliers in volume_7_day_avg
2025-09-01 22:15:20,149 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 63 outliers in volume_ratio_30_day
2025-09-01 22:15:20,161 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 67 outliers in volume_ratio_7_day
2025-09-01 22:15:20,200 - earnings_strategy - INFO - clean_and_normalize_data:902 - Performing advanced deduplication...
2025-09-01 22:15:20,330 - earnings_strategy - INFO - clean_and_normalize_data:927 - Running final data validation...
2025-09-01 22:15:20,343 - earnings_strategy - INFO - clean_and_normalize_data:936 - Data covers 37 days from 2025-07-21 00:00:00 to 2025-08-27 00:00:00
2025-09-01 22:15:20,343 - earnings_strategy - INFO - clean_and_normalize_data:938 - Data cleaning complete. Final dataset: 1431 rows (0 removed)
2025-09-01 22:15:20,346 - earnings_strategy - INFO - engineer_features_comprehensive:946 - Starting comprehensive feature engineering
2025-09-01 22:15:20,348 - earnings_strategy - INFO - engineer_features_comprehensive:952 - Filling missing values...
2025-09-01 22:15:28,700 - earnings_strategy - INFO - engineer_features_comprehensive:973 - Creating premarket features...
2025-09-01 22:15:28,749 - earnings_strategy - INFO - engineer_features_comprehensive:982 - Creating market cap features...
2025-09-01 22:15:28,757 - earnings_strategy - INFO - engineer_features_comprehensive:996 - Creating volume features...
2025-09-01 22:15:28,761 - earnings_strategy - INFO - engineer_features_comprehensive:1020 - Creating intraday features...
2025-09-01 22:15:29,304 - earnings_strategy - INFO - engineer_features_comprehensive:1049 - Creating surprise features...
2025-09-01 22:15:29,312 - earnings_strategy - INFO - engineer_features_comprehensive:1069 - Creating timing features...
2025-09-01 22:15:29,328 - earnings_strategy - INFO - engineer_features_comprehensive:1086 - Creating technical features...
2025-09-01 22:15:29,336 - earnings_strategy - INFO - engineer_features_comprehensive:1101 - Creating cross-sectional features...
2025-09-01 22:15:29,364 - earnings_strategy - INFO - engineer_features_comprehensive:1115 - Creating interaction features...
2025-09-01 22:15:29,367 - earnings_strategy - INFO - engineer_features_comprehensive:1134 - Creating regime features...
2025-09-01 22:15:29,378 - earnings_strategy - INFO - engineer_features_comprehensive:1149 - Creating categorical dummies...
2025-09-01 22:15:29,396 - earnings_strategy - INFO - engineer_features_comprehensive:1193 - Creating lagged features...
2025-09-01 22:15:29,926 - earnings_strategy - INFO - engineer_features_comprehensive:1225 - Feature engineering complete. Added 90 new features (total: 127)
2025-09-01 22:15:29,926 - earnings_strategy - INFO - create_comprehensive_targets:1233 - Creating comprehensive target variables
2025-09-01 22:15:29,957 - earnings_strategy - INFO - create_comprehensive_targets:1293 - Removed 0 rows with missing target values
2025-09-01 22:15:29,957 - earnings_strategy - INFO - create_comprehensive_targets:1299 - Primary target (target_2pct_up) positive rate: 0.284
2025-09-01 22:15:29,957 - earnings_strategy - INFO - create_comprehensive_targets:1307 - Next session return - Mean: -0.0079, Std: 0.0617
2025-09-01 22:15:29,966 - earnings_strategy - INFO - create_comprehensive_targets:1308 - Return percentiles - 5%: -0.1133, 95%: 0.0876
2025-09-01 22:15:29,969 - earnings_strategy - INFO - create_comprehensive_targets:1310 - Target creation complete. Dataset shape: (1431, 151)
2025-09-01 22:15:29,970 - earnings_strategy - INFO - run_full_mode_comprehensive:3295 - === PHASE 2: COMPREHENSIVE EDA ===
2025-09-01 22:15:29,970 - earnings_strategy - INFO - perform_comprehensive_eda:1318 - Performing comprehensive exploratory data analysis
2025-09-01 22:15:29,970 - earnings_strategy - INFO - perform_comprehensive_eda:1323 - Computing summary statistics...
2025-09-01 22:15:30,449 - earnings_strategy - INFO - perform_comprehensive_eda:1332 - Performing correlation analysis...
2025-09-01 22:15:30,927 - earnings_strategy - INFO - perform_comprehensive_eda:1358 - Performing data leakage detection...
2025-09-01 22:15:31,246 - earnings_strategy - INFO - perform_comprehensive_eda:1406 - Analyzing feature distributions...
2025-09-01 22:15:31,324 - earnings_strategy - INFO - perform_comprehensive_eda:1427 - Performing time series analysis...
2025-09-01 22:15:31,362 - earnings_strategy - INFO - perform_comprehensive_eda:1453 - Analyzing sector distributions...
2025-09-01 22:15:31,419 - earnings_strategy - INFO - perform_comprehensive_eda:1473 - Comprehensive EDA complete, artifacts saved
2025-09-01 22:15:31,419 - earnings_strategy - INFO - run_full_mode_comprehensive:3299 - === PHASE 3: ADVANCED FEATURE SELECTION ===
2025-09-01 22:15:31,419 - earnings_strategy - INFO - advanced_feature_selection:1481 - Starting advanced feature selection for classification task
2025-09-01 22:15:31,432 - earnings_strategy - INFO - advanced_feature_selection:1489 - Starting with 114 numeric features
2025-09-01 22:15:31,435 - earnings_strategy - INFO - advanced_feature_selection:1492 - Stage 1: Filter methods
2025-09-01 22:15:31,444 - earnings_strategy - INFO - advanced_feature_selection:1498 - Removed 18 constant/quasi-constant features
2025-09-01 22:15:31,449 - earnings_strategy - INFO - advanced_feature_selection:1502 - Removing highly correlated features...
2025-09-01 22:15:31,583 - earnings_strategy - INFO - advanced_feature_selection:1513 - Removed 33 highly correlated features, remaining: 63
2025-09-01 22:15:31,583 - earnings_strategy - INFO - advanced_feature_selection:1516 - Computing mutual information scores...
2025-09-01 22:15:33,137 - earnings_strategy - INFO - advanced_feature_selection:1530 - Mutual information selected 40 features
2025-09-01 22:15:33,137 - earnings_strategy - INFO - advanced_feature_selection:1533 - Stage 2: Wrapper methods (RFE)
2025-09-01 22:15:33,137 - earnings_strategy - INFO - advanced_feature_selection:1550 - RFE with logistic...
2025-09-01 22:15:48,557 - earnings_strategy - INFO - advanced_feature_selection:1566 - RFE with logistic selected 20 features
2025-09-01 22:15:48,557 - earnings_strategy - INFO - advanced_feature_selection:1550 - RFE with random_forest...
2025-09-01 22:15:55,952 - earnings_strategy - INFO - advanced_feature_selection:1566 - RFE with random_forest selected 20 features
2025-09-01 22:15:55,952 - earnings_strategy - INFO - advanced_feature_selection:1573 - Stage 3: Embedded methods
2025-09-01 22:15:55,952 - earnings_strategy - INFO - advanced_feature_selection:1578 - L1 regularization selection...
2025-09-01 22:15:56,043 - earnings_strategy - INFO - advanced_feature_selection:1607 - Lasso selected 26 features
2025-09-01 22:15:56,043 - earnings_strategy - INFO - advanced_feature_selection:1614 - Tree-based feature importance...
2025-09-01 22:16:01,645 - earnings_strategy - INFO - advanced_feature_selection:1646 - Tree-based selection chose 20 features
2025-09-01 22:16:01,645 - earnings_strategy - INFO - advanced_feature_selection:1653 - Stage 4: Ensemble feature selection
2025-09-01 22:16:01,645 - earnings_strategy - INFO - advanced_feature_selection:1702 - Final feature selection: 20 features
2025-09-01 22:16:01,645 - earnings_strategy - INFO - advanced_feature_selection:1703 - Top 10 features by consensus: ['high_before_low', 'pct_1min', 'pct_change_close', 'pct_change_high', 'pct_change_open', 'sort_key', 'intraday_vol', 'close_position', 'direction_consistency', 'market_cap_log_sector_rank']
2025-09-01 22:16:01,690 - earnings_strategy - INFO - run_full_mode_comprehensive:3324 - === PHASE 4: COMPREHENSIVE HYPOTHESIS TESTING ===
2025-09-01 22:16:01,690 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1712 - Testing comprehensive single-feature signals
2025-09-01 22:16:01,714 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1808 - Testing 33 conditions...
2025-09-01 22:16:05,083 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1919 - Applying multiple testing corrections...
2025-09-01 22:16:05,102 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1948 - Found 0 conditions significant by t-test (FDR corrected)
2025-09-01 22:16:05,104 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1949 - Found 0 conditions significant by U-test (FDR corrected)
2025-09-01 22:16:05,106 - earnings_strategy - INFO - run_full_mode_comprehensive:3330 - === PHASE 5: ADVANCED ML MODELING ===
2025-09-01 22:16:05,106 - earnings_strategy - INFO - train_advanced_models:1966 - Training advanced models for classification
2025-09-01 22:16:05,112 - earnings_strategy - INFO - train_advanced_models:2071 - Training logistic
2025-09-01 22:16:13,526 - earnings_strategy - INFO - train_advanced_models:2230 - logistic ROC-AUC: 0.9914 ± 0.0000
2025-09-01 22:16:13,571 - earnings_strategy - INFO - train_advanced_models:2071 - Training random_forest
2025-09-01 22:16:17,607 - earnings_strategy - INFO - train_advanced_models:2230 - random_forest ROC-AUC: 0.9890 ± 0.0000
2025-09-01 22:16:17,607 - earnings_strategy - INFO - train_advanced_models:2071 - Training xgboost
2025-09-01 22:16:18,055 - earnings_strategy - INFO - train_advanced_models:2230 - xgboost ROC-AUC: 0.9903 ± 0.0000
2025-09-01 22:16:18,055 - earnings_strategy - INFO - train_advanced_models:2071 - Training lightgbm
2025-09-01 22:16:18,608 - earnings_strategy - INFO - train_advanced_models:2230 - lightgbm ROC-AUC: 0.9935 ± 0.0000
2025-09-01 22:16:18,608 - earnings_strategy - INFO - train_advanced_models:2071 - Training mlp
2025-09-01 22:16:26,050 - earnings_strategy - INFO - train_advanced_models:2230 - mlp ROC-AUC: 0.9948 ± 0.0000
2025-09-01 22:16:26,050 - earnings_strategy - INFO - train_advanced_models:2238 - Creating model ensemble...
2025-09-01 22:16:26,056 - earnings_strategy - INFO - train_advanced_models:2284 - Ensemble ROC-AUC: 0.9937
2025-09-01 22:16:26,114 - earnings_strategy - INFO - run_full_mode_comprehensive:3337 - === PHASE 6: SOPHISTICATED STRATEGY CONSTRUCTION ===
2025-09-01 22:16:26,114 - earnings_strategy - INFO - build_sophisticated_strategies:2306 - Building sophisticated strategies from models
2025-09-01 22:16:26,116 - earnings_strategy - INFO - build_sophisticated_strategies:2321 - Testing 3 prob thresholds, 2 volume thresholds
2025-09-01 22:16:26,116 - earnings_strategy - INFO - build_sophisticated_strategies:2322 - Data aligned: 1431 observations
2025-09-01 22:16:26,116 - earnings_strategy - INFO - build_sophisticated_strategies:2323 - Mean target return: -0.0079
2025-09-01 22:16:26,116 - earnings_strategy - INFO - build_sophisticated_strategies:2326 - Processing model: logistic
2025-09-01 22:16:26,124 - earnings_strategy - INFO - build_sophisticated_strategies:2371 - Model logistic: mean probability = 0.285, std = 0.414
2025-09-01 22:16:26,132 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 1: Model=logistic, P=0.50, V=1.0
2025-09-01 22:16:26,132 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 413, Volume signal: 0
2025-09-01 22:16:26,140 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,140 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,145 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 2: Model=logistic, P=0.50, V=1.2
2025-09-01 22:16:26,147 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 413, Volume signal: 0
2025-09-01 22:16:26,148 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,148 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,150 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 3: Model=logistic, P=0.55, V=1.0
2025-09-01 22:16:26,155 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 401, Volume signal: 0
2025-09-01 22:16:26,156 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,156 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,160 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 4: Model=logistic, P=0.55, V=1.2
2025-09-01 22:16:26,160 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 401, Volume signal: 0
2025-09-01 22:16:26,160 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,160 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,168 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 5: Model=logistic, P=0.60, V=1.0
2025-09-01 22:16:26,170 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 390, Volume signal: 0
2025-09-01 22:16:26,170 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,173 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,177 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 6: Model=logistic, P=0.60, V=1.2
2025-09-01 22:16:26,177 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 390, Volume signal: 0
2025-09-01 22:16:26,177 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,180 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,180 - earnings_strategy - INFO - build_sophisticated_strategies:2326 - Processing model: random_forest
2025-09-01 22:16:26,399 - earnings_strategy - INFO - build_sophisticated_strategies:2371 - Model random_forest: mean probability = 0.283, std = 0.427
2025-09-01 22:16:26,404 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 7: Model=random_forest, P=0.50, V=1.0
2025-09-01 22:16:26,404 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 405, Volume signal: 0
2025-09-01 22:16:26,404 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,404 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,417 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 8: Model=random_forest, P=0.50, V=1.2
2025-09-01 22:16:26,418 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 405, Volume signal: 0
2025-09-01 22:16:26,419 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,420 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,425 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 9: Model=random_forest, P=0.55, V=1.0
2025-09-01 22:16:26,425 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 405, Volume signal: 0
2025-09-01 22:16:26,427 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,427 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,433 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 10: Model=random_forest, P=0.55, V=1.2
2025-09-01 22:16:26,433 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 405, Volume signal: 0
2025-09-01 22:16:26,436 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,436 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,441 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 11: Model=random_forest, P=0.60, V=1.0
2025-09-01 22:16:26,441 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 404, Volume signal: 0
2025-09-01 22:16:26,441 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,445 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,449 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 12: Model=random_forest, P=0.60, V=1.2
2025-09-01 22:16:26,449 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 404, Volume signal: 0
2025-09-01 22:16:26,449 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,449 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,454 - earnings_strategy - INFO - build_sophisticated_strategies:2326 - Processing model: xgboost
2025-09-01 22:16:26,468 - earnings_strategy - INFO - build_sophisticated_strategies:2371 - Model xgboost: mean probability = 0.285, std = 0.447
2025-09-01 22:16:26,483 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 13: Model=xgboost, P=0.50, V=1.0
2025-09-01 22:16:26,485 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 407, Volume signal: 0
2025-09-01 22:16:26,485 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,488 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,493 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 14: Model=xgboost, P=0.50, V=1.2
2025-09-01 22:16:26,495 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 407, Volume signal: 0
2025-09-01 22:16:26,495 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,497 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,506 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 15: Model=xgboost, P=0.55, V=1.0
2025-09-01 22:16:26,508 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 407, Volume signal: 0
2025-09-01 22:16:26,508 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,508 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,515 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 16: Model=xgboost, P=0.55, V=1.2
2025-09-01 22:16:26,516 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 407, Volume signal: 0
2025-09-01 22:16:26,516 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,518 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,525 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 17: Model=xgboost, P=0.60, V=1.0
2025-09-01 22:16:26,526 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 406, Volume signal: 0
2025-09-01 22:16:26,526 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,528 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,533 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 18: Model=xgboost, P=0.60, V=1.2
2025-09-01 22:16:26,533 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 406, Volume signal: 0
2025-09-01 22:16:26,535 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,539 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,539 - earnings_strategy - INFO - build_sophisticated_strategies:2326 - Processing model: lightgbm
2025-09-01 22:16:26,561 - earnings_strategy - INFO - build_sophisticated_strategies:2371 - Model lightgbm: mean probability = 0.284, std = 0.449
2025-09-01 22:16:26,577 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 19: Model=lightgbm, P=0.50, V=1.0
2025-09-01 22:16:26,577 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 406, Volume signal: 0
2025-09-01 22:16:26,579 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,582 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,588 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 20: Model=lightgbm, P=0.50, V=1.2
2025-09-01 22:16:26,590 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 406, Volume signal: 0
2025-09-01 22:16:26,590 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,592 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,596 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 21: Model=lightgbm, P=0.55, V=1.0
2025-09-01 22:16:26,596 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 406, Volume signal: 0
2025-09-01 22:16:26,598 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,600 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,608 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 22: Model=lightgbm, P=0.55, V=1.2
2025-09-01 22:16:26,608 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 406, Volume signal: 0
2025-09-01 22:16:26,608 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,608 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,615 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 23: Model=lightgbm, P=0.60, V=1.0
2025-09-01 22:16:26,615 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 406, Volume signal: 0
2025-09-01 22:16:26,617 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,617 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,623 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 24: Model=lightgbm, P=0.60, V=1.2
2025-09-01 22:16:26,626 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 406, Volume signal: 0
2025-09-01 22:16:26,626 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,628 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,628 - earnings_strategy - INFO - build_sophisticated_strategies:2326 - Processing model: mlp
2025-09-01 22:16:26,681 - earnings_strategy - INFO - build_sophisticated_strategies:2371 - Model mlp: mean probability = 0.287, std = 0.443
2025-09-01 22:16:26,687 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 25: Model=mlp, P=0.50, V=1.0
2025-09-01 22:16:26,687 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 409, Volume signal: 0
2025-09-01 22:16:26,687 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,687 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,698 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 26: Model=mlp, P=0.50, V=1.2
2025-09-01 22:16:26,698 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 409, Volume signal: 0
2025-09-01 22:16:26,698 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,702 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,707 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 27: Model=mlp, P=0.55, V=1.0
2025-09-01 22:16:26,707 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 409, Volume signal: 0
2025-09-01 22:16:26,708 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,710 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,710 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 28: Model=mlp, P=0.55, V=1.2
2025-09-01 22:16:26,714 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 409, Volume signal: 0
2025-09-01 22:16:26,714 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,716 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,721 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 29: Model=mlp, P=0.60, V=1.0
2025-09-01 22:16:26,737 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 407, Volume signal: 0
2025-09-01 22:16:26,771 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,787 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,794 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 30: Model=mlp, P=0.60, V=1.2
2025-09-01 22:16:26,812 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 407, Volume signal: 0
2025-09-01 22:16:26,816 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,822 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,825 - earnings_strategy - INFO - build_sophisticated_strategies:2326 - Processing model: ensemble
2025-09-01 22:16:26,829 - earnings_strategy - INFO - build_sophisticated_strategies:2371 - Model ensemble: mean probability = 0.391, std = 0.135
2025-09-01 22:16:26,872 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 31: Model=ensemble, P=0.50, V=1.0
2025-09-01 22:16:26,876 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 49, Volume signal: 0
2025-09-01 22:16:26,878 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,881 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,889 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 32: Model=ensemble, P=0.50, V=1.2
2025-09-01 22:16:26,889 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 49, Volume signal: 0
2025-09-01 22:16:26,889 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,889 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,898 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 33: Model=ensemble, P=0.55, V=1.0
2025-09-01 22:16:26,900 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 49, Volume signal: 0
2025-09-01 22:16:26,900 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,900 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,905 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 34: Model=ensemble, P=0.55, V=1.2
2025-09-01 22:16:26,907 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 49, Volume signal: 0
2025-09-01 22:16:26,907 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,907 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,933 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 35: Model=ensemble, P=0.60, V=1.0
2025-09-01 22:16:26,935 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 49, Volume signal: 0
2025-09-01 22:16:26,937 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,940 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,943 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 36: Model=ensemble, P=0.60, V=1.2
2025-09-01 22:16:26,943 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 49, Volume signal: 0
2025-09-01 22:16:26,946 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:16:26,946 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:16:26,947 - earnings_strategy - INFO - build_sophisticated_strategies:2458 - Tested 36 strategy combinations from ML models
2025-09-01 22:16:26,947 - earnings_strategy - INFO - build_sophisticated_strategies:2461 - Adding rule-based benchmark strategies...
2025-09-01 22:16:26,950 - earnings_strategy - INFO - create_rule_based_strategies:2476 - Creating rule-based benchmark strategies
2025-09-01 22:16:26,960 - earnings_strategy - INFO - create_rule_based_strategies:2487 - Rule-based strategies: 1431 aligned observations
2025-09-01 22:16:26,960 - earnings_strategy - INFO - create_rule_based_strategies:2488 - Target mean return: -0.0079
2025-09-01 22:16:26,963 - earnings_strategy - INFO - create_rule_based_strategies:2495 - Surprise column: 1431 valid values, mean=46.75
2025-09-01 22:16:26,964 - earnings_strategy - INFO - create_rule_based_strategies:2502 - Rule strategy 1: Surprise > 0%, signals: 1431
2025-09-01 22:16:26,974 - earnings_strategy - INFO - create_rule_based_strategies:2507 -   Results: monthly_return=-0.1863, trades=1431, win_rate=0.440
2025-09-01 22:16:27,168 - earnings_strategy - INFO - create_rule_based_strategies:2502 - Rule strategy 2: Surprise > 0.5%, signals: 1431
2025-09-01 22:16:27,181 - earnings_strategy - INFO - create_rule_based_strategies:2507 -   Results: monthly_return=-0.1863, trades=1431, win_rate=0.440
2025-09-01 22:16:27,205 - earnings_strategy - INFO - create_rule_based_strategies:2502 - Rule strategy 3: Surprise > 1%, signals: 1431
2025-09-01 22:16:27,229 - earnings_strategy - INFO - create_rule_based_strategies:2507 -   Results: monthly_return=-0.1863, trades=1431, win_rate=0.440
2025-09-01 22:16:27,256 - earnings_strategy - INFO - create_rule_based_strategies:2524 - Volume ratio column: 1431 valid values, mean=0.05
2025-09-01 22:16:27,266 - earnings_strategy - INFO - create_rule_based_strategies:2531 - Rule strategy 4: Volume > 1.0x, signals: 0
2025-09-01 22:16:27,271 - earnings_strategy - INFO - create_rule_based_strategies:2531 - Rule strategy 5: Volume > 1.1x, signals: 0
2025-09-01 22:16:27,277 - earnings_strategy - INFO - create_rule_based_strategies:2531 - Rule strategy 6: Volume > 1.2x, signals: 0
2025-09-01 22:16:27,287 - earnings_strategy - INFO - create_rule_based_strategies:2554 - pct_1min column: 1431 valid values, mean=-0.240
2025-09-01 22:16:27,291 - earnings_strategy - INFO - create_rule_based_strategies:2561 - Rule strategy 7: pct_1min > 0%, signals: 548
2025-09-01 22:16:27,309 - earnings_strategy - INFO - create_rule_based_strategies:2566 -   Results: monthly_return=0.1268, trades=548, win_rate=0.560
2025-09-01 22:16:27,330 - earnings_strategy - INFO - create_rule_based_strategies:2561 - Rule strategy 8: pct_1min > 0.5%, signals: 363
2025-09-01 22:16:27,346 - earnings_strategy - INFO - create_rule_based_strategies:2566 -   Results: monthly_return=0.2201, trades=363, win_rate=0.584
2025-09-01 22:16:27,365 - earnings_strategy - INFO - create_rule_based_strategies:2561 - Rule strategy 9: pct_1min > 1.0%, signals: 238
2025-09-01 22:16:27,383 - earnings_strategy - INFO - create_rule_based_strategies:2566 -   Results: monthly_return=0.2603, trades=238, win_rate=0.622
2025-09-01 22:16:27,399 - earnings_strategy - INFO - create_rule_based_strategies:2554 - pct_5min column: 1431 valid values, mean=-0.321
2025-09-01 22:16:27,403 - earnings_strategy - INFO - create_rule_based_strategies:2561 - Rule strategy 10: pct_5min > 0%, signals: 670
2025-09-01 22:16:27,426 - earnings_strategy - INFO - create_rule_based_strategies:2566 -   Results: monthly_return=0.4104, trades=670, win_rate=0.667
2025-09-01 22:16:27,445 - earnings_strategy - INFO - create_rule_based_strategies:2561 - Rule strategy 11: pct_5min > 0.5%, signals: 566
2025-09-01 22:16:27,467 - earnings_strategy - INFO - create_rule_based_strategies:2566 -   Results: monthly_return=0.5076, trades=566, win_rate=0.712
2025-09-01 22:16:27,481 - earnings_strategy - INFO - create_rule_based_strategies:2561 - Rule strategy 12: pct_5min > 1.0%, signals: 454
2025-09-01 22:16:27,497 - earnings_strategy - INFO - create_rule_based_strategies:2566 -   Results: monthly_return=0.5989, trades=454, win_rate=0.744
2025-09-01 22:16:27,514 - earnings_strategy - INFO - create_rule_based_strategies:2554 - pct_15min column: 1431 valid values, mean=-0.497
2025-09-01 22:16:27,516 - earnings_strategy - INFO - create_rule_based_strategies:2561 - Rule strategy 13: pct_15min > 0%, signals: 660
2025-09-01 22:16:27,528 - earnings_strategy - INFO - create_rule_based_strategies:2566 -   Results: monthly_return=0.5254, trades=660, win_rate=0.714
2025-09-01 22:16:27,538 - earnings_strategy - INFO - create_rule_based_strategies:2561 - Rule strategy 14: pct_15min > 0.5%, signals: 565
2025-09-01 22:16:27,546 - earnings_strategy - INFO - create_rule_based_strategies:2566 -   Results: monthly_return=0.6199, trades=565, win_rate=0.750
2025-09-01 22:16:27,552 - earnings_strategy - INFO - create_rule_based_strategies:2561 - Rule strategy 15: pct_15min > 1.0%, signals: 482
2025-09-01 22:16:27,558 - earnings_strategy - INFO - create_rule_based_strategies:2566 -   Results: monthly_return=0.7061, trades=482, win_rate=0.784
2025-09-01 22:16:27,564 - earnings_strategy - INFO - create_rule_based_strategies:2583 - Rule strategy 16: Always long, signals: 1431
2025-09-01 22:16:27,571 - earnings_strategy - INFO - create_rule_based_strategies:2586 -   Results: monthly_return=-0.1863, trades=1431, win_rate=0.440
2025-09-01 22:16:27,574 - earnings_strategy - INFO - create_rule_based_strategies:2598 - Tested 16 rule-based strategies, created 13
2025-09-01 22:16:27,576 - earnings_strategy - INFO - build_sophisticated_strategies:2467 - Built 13 candidate strategies total
2025-09-01 22:16:27,576 - earnings_strategy - INFO - run_full_mode_comprehensive:3344 - === PHASE 7: COMPREHENSIVE STATISTICAL VALIDATION ===
2025-09-01 22:16:27,580 - earnings_strategy - INFO - perform_comprehensive_validation:2607 - Performing comprehensive statistical validation
2025-09-01 22:16:27,581 - earnings_strategy - ERROR - run_full_mode_comprehensive:3365 - Fatal error in full mode: scale < 0
Traceback (most recent call last):
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 3345, in run_full_mode_comprehensive
    validated_strategies = perform_comprehensive_validation(
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 2649, in perform_comprehensive_validation
    win_returns = np.random.exponential(avg_return * 2, n_wins)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "numpy\\random\\mtrand.pyx", line 575, in numpy.random.mtrand.RandomState.exponential
  File "_common.pyx", line 633, in numpy.random._common.cont
  File "_common.pyx", line 435, in numpy.random._common.check_constraint
ValueError: scale < 0
2025-09-01 22:16:27,584 - earnings_strategy - INFO - export_comprehensive_strategies:3124 - Exporting 0 strategies to comprehensive JSON
2025-09-01 22:16:27,587 - earnings_strategy - INFO - export_comprehensive_strategies:3270 - Successfully exported comprehensive strategies to strategies.json
2025-09-01 22:16:27,587 - earnings_strategy - ERROR - main:3677 - Fatal error: scale < 0
Traceback (most recent call last):
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 3658, in main
    run_full_mode_comprehensive(
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 3345, in run_full_mode_comprehensive
    validated_strategies = perform_comprehensive_validation(
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sahil\Downloads\EarningsTool\earnings_strat_finder.py", line 2649, in perform_comprehensive_validation
    win_returns = np.random.exponential(avg_return * 2, n_wins)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "numpy\\random\\mtrand.pyx", line 575, in numpy.random.mtrand.RandomState.exponential
  File "_common.pyx", line 633, in numpy.random._common.cont
  File "_common.pyx", line 435, in numpy.random._common.check_constraint
ValueError: scale < 0
2025-09-01 22:28:37,339 - earnings_strategy - INFO - main:3658 - ================================================================================
2025-09-01 22:28:37,339 - earnings_strategy - INFO - main:3659 - ADVANCED EARNINGS STRATEGY DISCOVERY SYSTEM
2025-09-01 22:28:37,339 - earnings_strategy - INFO - main:3660 - ================================================================================
2025-09-01 22:28:37,339 - earnings_strategy - INFO - main:3661 - Mode: FULL
2025-09-01 22:28:37,339 - earnings_strategy - INFO - main:3662 - Input CSV: earnings_data.csv
2025-09-01 22:28:37,339 - earnings_strategy - INFO - main:3663 - Output: strategies.json
2025-09-01 22:28:37,339 - earnings_strategy - INFO - main:3664 - Transaction Costs: 5.0 bps + 5.0 bps slippage
2025-09-01 22:28:37,339 - earnings_strategy - INFO - main:3665 - Random Seed: 42
2025-09-01 22:28:37,339 - earnings_strategy - INFO - main:3666 - Log Level: INFO
2025-09-01 22:28:37,339 - earnings_strategy - INFO - main:3667 - Available CPU Cores: 8
2025-09-01 22:28:37,339 - earnings_strategy - INFO - main:3668 - ================================================================================
2025-09-01 22:28:37,339 - earnings_strategy - INFO - run_full_mode_comprehensive:3292 - Starting comprehensive full mode execution
2025-09-01 22:28:37,339 - earnings_strategy - INFO - run_full_mode_comprehensive:3303 - === PHASE 1: DATA PREPARATION ===
2025-09-01 22:28:37,339 - earnings_strategy - INFO - load_and_validate_data:757 - Loading data from earnings_data.csv
2025-09-01 22:28:37,373 - earnings_strategy - INFO - load_and_validate_data:767 - Successfully loaded with utf-8 encoding
2025-09-01 22:28:37,373 - earnings_strategy - INFO - load_and_validate_data:775 - Loaded 1431 rows and 37 columns
2025-09-01 22:28:37,386 - earnings_strategy - INFO - load_and_validate_data:793 - Validating data quality...
2025-09-01 22:28:37,390 - earnings_strategy - WARNING - load_and_validate_data:807 - Found 1 out-of-range values in market_cap
2025-09-01 22:28:37,393 - earnings_strategy - WARNING - load_and_validate_data:807 - Found 8 out-of-range values in volume_ratio_7_day
2025-09-01 22:28:37,398 - earnings_strategy - WARNING - load_and_validate_data:807 - Found 1172 out-of-range values in pct_change_open
2025-09-01 22:28:37,398 - earnings_strategy - INFO - clean_and_normalize_data:815 - Starting comprehensive data cleaning and normalization
2025-09-01 22:28:37,413 - earnings_strategy - INFO - clean_and_normalize_data:838 - Removed 0 rows with invalid dates
2025-09-01 22:28:37,414 - earnings_strategy - INFO - clean_and_normalize_data:841 - Processing missing value markers...
2025-09-01 22:28:37,460 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 63 outliers in alpaca_prev_close
2025-09-01 22:28:37,464 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 60 outliers in close_price
2025-09-01 22:28:37,477 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 61 outliers in high_price
2025-09-01 22:28:37,481 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 60 outliers in low_price
2025-09-01 22:28:37,486 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 137 outliers in market_cap
2025-09-01 22:28:37,489 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 62 outliers in open_price
2025-09-01 22:28:37,496 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 135 outliers in opening_minute_volume
2025-09-01 22:28:37,499 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 11 outliers in pct_15min
2025-09-01 22:28:37,505 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 8 outliers in pct_1hr
2025-09-01 22:28:37,510 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 37 outliers in pct_1min
2025-09-01 22:28:37,515 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 8 outliers in pct_30min
2025-09-01 22:28:37,520 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 8 outliers in pct_5min
2025-09-01 22:28:37,523 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 20 outliers in pct_change_close
2025-09-01 22:28:37,529 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 16 outliers in pct_change_high
2025-09-01 22:28:37,542 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 14 outliers in pct_change_low
2025-09-01 22:28:37,546 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 35 outliers in pct_change_open
2025-09-01 22:28:37,546 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 47 outliers in premarket_high
2025-09-01 22:28:37,556 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 47 outliers in premarket_low
2025-09-01 22:28:37,556 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 141 outliers in premarket_volume
2025-09-01 22:28:37,567 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 63 outliers in reference_prev_close
2025-09-01 22:28:37,567 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 60 outliers in revenue_surprise
2025-09-01 22:28:37,578 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 16 outliers in sort_key
2025-09-01 22:28:37,588 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 118 outliers in surprise
2025-09-01 22:28:37,593 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 80 outliers in volume_30_day_avg
2025-09-01 22:28:37,602 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 78 outliers in volume_7_day_avg
2025-09-01 22:28:37,606 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 63 outliers in volume_ratio_30_day
2025-09-01 22:28:37,609 - earnings_strategy - INFO - clean_and_normalize_data:874 - Found 67 outliers in volume_ratio_7_day
2025-09-01 22:28:37,623 - earnings_strategy - INFO - clean_and_normalize_data:902 - Performing advanced deduplication...
2025-09-01 22:28:37,675 - earnings_strategy - INFO - clean_and_normalize_data:927 - Running final data validation...
2025-09-01 22:28:37,705 - earnings_strategy - INFO - clean_and_normalize_data:936 - Data covers 37 days from 2025-07-21 00:00:00 to 2025-08-27 00:00:00
2025-09-01 22:28:37,705 - earnings_strategy - INFO - clean_and_normalize_data:938 - Data cleaning complete. Final dataset: 1431 rows (0 removed)
2025-09-01 22:28:37,707 - earnings_strategy - INFO - engineer_features_comprehensive:946 - Starting comprehensive feature engineering
2025-09-01 22:28:37,712 - earnings_strategy - INFO - engineer_features_comprehensive:952 - Filling missing values...
2025-09-01 22:28:46,397 - earnings_strategy - INFO - engineer_features_comprehensive:973 - Creating premarket features...
2025-09-01 22:28:46,405 - earnings_strategy - INFO - engineer_features_comprehensive:982 - Creating market cap features...
2025-09-01 22:28:46,409 - earnings_strategy - INFO - engineer_features_comprehensive:996 - Creating volume features...
2025-09-01 22:28:46,417 - earnings_strategy - INFO - engineer_features_comprehensive:1020 - Creating intraday features...
2025-09-01 22:28:46,998 - earnings_strategy - INFO - engineer_features_comprehensive:1049 - Creating surprise features...
2025-09-01 22:28:47,000 - earnings_strategy - INFO - engineer_features_comprehensive:1069 - Creating timing features...
2025-09-01 22:28:47,015 - earnings_strategy - INFO - engineer_features_comprehensive:1086 - Creating technical features...
2025-09-01 22:28:47,021 - earnings_strategy - INFO - engineer_features_comprehensive:1101 - Creating cross-sectional features...
2025-09-01 22:28:47,042 - earnings_strategy - INFO - engineer_features_comprehensive:1115 - Creating interaction features...
2025-09-01 22:28:47,054 - earnings_strategy - INFO - engineer_features_comprehensive:1134 - Creating regime features...
2025-09-01 22:28:47,059 - earnings_strategy - INFO - engineer_features_comprehensive:1149 - Creating categorical dummies...
2025-09-01 22:28:47,081 - earnings_strategy - INFO - engineer_features_comprehensive:1193 - Creating lagged features...
2025-09-01 22:28:47,513 - earnings_strategy - INFO - engineer_features_comprehensive:1225 - Feature engineering complete. Added 90 new features (total: 127)
2025-09-01 22:28:47,513 - earnings_strategy - INFO - create_comprehensive_targets:1233 - Creating comprehensive target variables
2025-09-01 22:28:47,539 - earnings_strategy - INFO - create_comprehensive_targets:1293 - Removed 0 rows with missing target values
2025-09-01 22:28:47,547 - earnings_strategy - INFO - create_comprehensive_targets:1299 - Primary target (target_2pct_up) positive rate: 0.284
2025-09-01 22:28:47,549 - earnings_strategy - INFO - create_comprehensive_targets:1307 - Next session return - Mean: -0.0079, Std: 0.0617
2025-09-01 22:28:47,551 - earnings_strategy - INFO - create_comprehensive_targets:1308 - Return percentiles - 5%: -0.1133, 95%: 0.0876
2025-09-01 22:28:47,551 - earnings_strategy - INFO - create_comprehensive_targets:1310 - Target creation complete. Dataset shape: (1431, 151)
2025-09-01 22:28:47,554 - earnings_strategy - INFO - run_full_mode_comprehensive:3309 - === PHASE 2: COMPREHENSIVE EDA ===
2025-09-01 22:28:47,554 - earnings_strategy - INFO - perform_comprehensive_eda:1318 - Performing comprehensive exploratory data analysis
2025-09-01 22:28:47,554 - earnings_strategy - INFO - perform_comprehensive_eda:1323 - Computing summary statistics...
2025-09-01 22:28:47,907 - earnings_strategy - INFO - perform_comprehensive_eda:1332 - Performing correlation analysis...
2025-09-01 22:28:48,325 - earnings_strategy - INFO - perform_comprehensive_eda:1358 - Performing data leakage detection...
2025-09-01 22:28:48,651 - earnings_strategy - INFO - perform_comprehensive_eda:1406 - Analyzing feature distributions...
2025-09-01 22:28:48,682 - earnings_strategy - INFO - perform_comprehensive_eda:1427 - Performing time series analysis...
2025-09-01 22:28:48,690 - earnings_strategy - INFO - perform_comprehensive_eda:1453 - Analyzing sector distributions...
2025-09-01 22:28:48,783 - earnings_strategy - INFO - perform_comprehensive_eda:1473 - Comprehensive EDA complete, artifacts saved
2025-09-01 22:28:48,784 - earnings_strategy - INFO - run_full_mode_comprehensive:3313 - === PHASE 3: ADVANCED FEATURE SELECTION ===
2025-09-01 22:28:48,784 - earnings_strategy - INFO - advanced_feature_selection:1481 - Starting advanced feature selection for classification task
2025-09-01 22:28:48,793 - earnings_strategy - INFO - advanced_feature_selection:1489 - Starting with 114 numeric features
2025-09-01 22:28:48,793 - earnings_strategy - INFO - advanced_feature_selection:1492 - Stage 1: Filter methods
2025-09-01 22:28:48,798 - earnings_strategy - INFO - advanced_feature_selection:1498 - Removed 18 constant/quasi-constant features
2025-09-01 22:28:48,801 - earnings_strategy - INFO - advanced_feature_selection:1502 - Removing highly correlated features...
2025-09-01 22:28:48,873 - earnings_strategy - INFO - advanced_feature_selection:1513 - Removed 33 highly correlated features, remaining: 63
2025-09-01 22:28:48,873 - earnings_strategy - INFO - advanced_feature_selection:1516 - Computing mutual information scores...
2025-09-01 22:28:50,455 - earnings_strategy - INFO - advanced_feature_selection:1530 - Mutual information selected 40 features
2025-09-01 22:28:50,455 - earnings_strategy - INFO - advanced_feature_selection:1533 - Stage 2: Wrapper methods (RFE)
2025-09-01 22:28:50,455 - earnings_strategy - INFO - advanced_feature_selection:1550 - RFE with logistic...
2025-09-01 22:29:06,488 - earnings_strategy - INFO - advanced_feature_selection:1566 - RFE with logistic selected 20 features
2025-09-01 22:29:06,488 - earnings_strategy - INFO - advanced_feature_selection:1550 - RFE with random_forest...
2025-09-01 22:29:14,369 - earnings_strategy - INFO - advanced_feature_selection:1566 - RFE with random_forest selected 20 features
2025-09-01 22:29:14,369 - earnings_strategy - INFO - advanced_feature_selection:1573 - Stage 3: Embedded methods
2025-09-01 22:29:14,369 - earnings_strategy - INFO - advanced_feature_selection:1578 - L1 regularization selection...
2025-09-01 22:29:14,451 - earnings_strategy - INFO - advanced_feature_selection:1607 - Lasso selected 26 features
2025-09-01 22:29:14,451 - earnings_strategy - INFO - advanced_feature_selection:1614 - Tree-based feature importance...
2025-09-01 22:29:20,121 - earnings_strategy - INFO - advanced_feature_selection:1646 - Tree-based selection chose 20 features
2025-09-01 22:29:20,121 - earnings_strategy - INFO - advanced_feature_selection:1653 - Stage 4: Ensemble feature selection
2025-09-01 22:29:20,121 - earnings_strategy - INFO - advanced_feature_selection:1702 - Final feature selection: 20 features
2025-09-01 22:29:20,121 - earnings_strategy - INFO - advanced_feature_selection:1703 - Top 10 features by consensus: ['high_before_low', 'pct_1min', 'pct_change_close', 'pct_change_high', 'pct_change_open', 'sort_key', 'intraday_vol', 'close_position', 'direction_consistency', 'market_cap_log_sector_rank']
2025-09-01 22:29:20,121 - earnings_strategy - INFO - run_full_mode_comprehensive:3338 - === PHASE 4: COMPREHENSIVE HYPOTHESIS TESTING ===
2025-09-01 22:29:20,121 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1712 - Testing comprehensive single-feature signals
2025-09-01 22:29:20,148 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1808 - Testing 33 conditions...
2025-09-01 22:29:23,757 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1919 - Applying multiple testing corrections...
2025-09-01 22:29:23,774 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1948 - Found 0 conditions significant by t-test (FDR corrected)
2025-09-01 22:29:23,774 - earnings_strategy - INFO - test_single_feature_signals_comprehensive:1949 - Found 0 conditions significant by U-test (FDR corrected)
2025-09-01 22:29:23,774 - earnings_strategy - INFO - run_full_mode_comprehensive:3344 - === PHASE 5: ADVANCED ML MODELING ===
2025-09-01 22:29:23,774 - earnings_strategy - INFO - train_advanced_models:1966 - Training advanced models for classification
2025-09-01 22:29:23,782 - earnings_strategy - INFO - train_advanced_models:2071 - Training logistic
2025-09-01 22:29:32,260 - earnings_strategy - INFO - train_advanced_models:2230 - logistic ROC-AUC: 0.9914 ± 0.0000
2025-09-01 22:29:32,260 - earnings_strategy - INFO - train_advanced_models:2071 - Training random_forest
2025-09-01 22:29:36,512 - earnings_strategy - INFO - train_advanced_models:2230 - random_forest ROC-AUC: 0.9890 ± 0.0000
2025-09-01 22:29:36,512 - earnings_strategy - INFO - train_advanced_models:2071 - Training xgboost
2025-09-01 22:29:36,940 - earnings_strategy - INFO - train_advanced_models:2230 - xgboost ROC-AUC: 0.9903 ± 0.0000
2025-09-01 22:29:36,940 - earnings_strategy - INFO - train_advanced_models:2071 - Training lightgbm
2025-09-01 22:29:37,350 - earnings_strategy - INFO - train_advanced_models:2230 - lightgbm ROC-AUC: 0.9935 ± 0.0000
2025-09-01 22:29:37,350 - earnings_strategy - INFO - train_advanced_models:2071 - Training mlp
2025-09-01 22:29:44,553 - earnings_strategy - INFO - train_advanced_models:2230 - mlp ROC-AUC: 0.9948 ± 0.0000
2025-09-01 22:29:44,553 - earnings_strategy - INFO - train_advanced_models:2238 - Creating model ensemble...
2025-09-01 22:29:44,570 - earnings_strategy - INFO - train_advanced_models:2284 - Ensemble ROC-AUC: 0.9937
2025-09-01 22:29:44,590 - earnings_strategy - INFO - run_full_mode_comprehensive:3351 - === PHASE 6: SOPHISTICATED STRATEGY CONSTRUCTION ===
2025-09-01 22:29:44,590 - earnings_strategy - INFO - build_sophisticated_strategies:2306 - Building sophisticated strategies from models
2025-09-01 22:29:44,595 - earnings_strategy - INFO - build_sophisticated_strategies:2321 - Testing 3 prob thresholds, 2 volume thresholds
2025-09-01 22:29:44,595 - earnings_strategy - INFO - build_sophisticated_strategies:2322 - Data aligned: 1431 observations
2025-09-01 22:29:44,597 - earnings_strategy - INFO - build_sophisticated_strategies:2323 - Mean target return: -0.0079
2025-09-01 22:29:44,597 - earnings_strategy - INFO - build_sophisticated_strategies:2326 - Processing model: logistic
2025-09-01 22:29:44,601 - earnings_strategy - INFO - build_sophisticated_strategies:2371 - Model logistic: mean probability = 0.285, std = 0.414
2025-09-01 22:29:44,605 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 1: Model=logistic, P=0.50, V=0
2025-09-01 22:29:44,605 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 413, Volume signal: 1431
2025-09-01 22:29:44,605 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 413
2025-09-01 22:29:44,609 - earnings_strategy - INFO - build_sophisticated_strategies:2431 -   Backtest results: monthly_return=1.1984, trades=413, win_rate=1.000
2025-09-01 22:29:44,618 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 2: Model=logistic, P=0.50, V=5
2025-09-01 22:29:44,624 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 413, Volume signal: 0
2025-09-01 22:29:44,624 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:29:44,625 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:29:44,625 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 3: Model=logistic, P=0.55, V=0
2025-09-01 22:29:44,625 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 401, Volume signal: 1431
2025-09-01 22:29:44,625 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 401
2025-09-01 22:29:44,630 - earnings_strategy - INFO - build_sophisticated_strategies:2431 -   Backtest results: monthly_return=1.2222, trades=401, win_rate=1.000
2025-09-01 22:29:44,638 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 4: Model=logistic, P=0.55, V=5
2025-09-01 22:29:44,638 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 401, Volume signal: 0
2025-09-01 22:29:44,638 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:29:44,640 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:29:44,640 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 5: Model=logistic, P=0.60, V=0
2025-09-01 22:29:44,640 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 390, Volume signal: 1431
2025-09-01 22:29:44,640 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 390
2025-09-01 22:29:44,640 - earnings_strategy - INFO - build_sophisticated_strategies:2431 -   Backtest results: monthly_return=1.2448, trades=390, win_rate=1.000
2025-09-01 22:29:44,651 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 6: Model=logistic, P=0.60, V=5
2025-09-01 22:29:44,653 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 390, Volume signal: 0
2025-09-01 22:29:44,653 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:29:44,654 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:29:44,654 - earnings_strategy - INFO - build_sophisticated_strategies:2326 - Processing model: random_forest
2025-09-01 22:29:44,792 - earnings_strategy - INFO - build_sophisticated_strategies:2371 - Model random_forest: mean probability = 0.283, std = 0.427
2025-09-01 22:29:44,795 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 7: Model=random_forest, P=0.50, V=0
2025-09-01 22:29:44,795 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 405, Volume signal: 1431
2025-09-01 22:29:44,795 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 405
2025-09-01 22:29:44,803 - earnings_strategy - INFO - build_sophisticated_strategies:2431 -   Backtest results: monthly_return=1.2185, trades=405, win_rate=1.000
2025-09-01 22:29:44,808 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 8: Model=random_forest, P=0.50, V=5
2025-09-01 22:29:44,808 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 405, Volume signal: 0
2025-09-01 22:29:44,808 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:29:44,813 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:29:44,814 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 9: Model=random_forest, P=0.55, V=0
2025-09-01 22:29:44,814 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 405, Volume signal: 1431
2025-09-01 22:29:44,814 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 405
2025-09-01 22:29:44,821 - earnings_strategy - INFO - build_sophisticated_strategies:2431 -   Backtest results: monthly_return=1.2185, trades=405, win_rate=1.000
2025-09-01 22:29:44,826 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 10: Model=random_forest, P=0.55, V=5
2025-09-01 22:29:44,826 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 405, Volume signal: 0
2025-09-01 22:29:44,830 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:29:44,830 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:29:44,834 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 11: Model=random_forest, P=0.60, V=0
2025-09-01 22:29:44,834 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 404, Volume signal: 1431
2025-09-01 22:29:44,834 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 404
2025-09-01 22:29:44,839 - earnings_strategy - INFO - build_sophisticated_strategies:2431 -   Backtest results: monthly_return=1.2207, trades=404, win_rate=1.000
2025-09-01 22:29:44,846 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 12: Model=random_forest, P=0.60, V=5
2025-09-01 22:29:44,846 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 404, Volume signal: 0
2025-09-01 22:29:44,846 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:29:44,846 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:29:44,850 - earnings_strategy - INFO - build_sophisticated_strategies:2326 - Processing model: xgboost
2025-09-01 22:29:44,856 - earnings_strategy - INFO - build_sophisticated_strategies:2371 - Model xgboost: mean probability = 0.285, std = 0.447
2025-09-01 22:29:44,866 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 13: Model=xgboost, P=0.50, V=0
2025-09-01 22:29:44,866 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 407, Volume signal: 1431
2025-09-01 22:29:44,868 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 407
2025-09-01 22:29:44,873 - earnings_strategy - INFO - build_sophisticated_strategies:2431 -   Backtest results: monthly_return=1.2147, trades=407, win_rate=1.000
2025-09-01 22:29:44,881 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 14: Model=xgboost, P=0.50, V=5
2025-09-01 22:29:44,881 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 407, Volume signal: 0
2025-09-01 22:29:44,881 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:29:44,883 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:29:44,885 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 15: Model=xgboost, P=0.55, V=0
2025-09-01 22:29:44,885 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 407, Volume signal: 1431
2025-09-01 22:29:44,887 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 407
2025-09-01 22:29:44,892 - earnings_strategy - INFO - build_sophisticated_strategies:2431 -   Backtest results: monthly_return=1.2147, trades=407, win_rate=1.000
2025-09-01 22:29:44,902 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 16: Model=xgboost, P=0.55, V=5
2025-09-01 22:29:44,904 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 407, Volume signal: 0
2025-09-01 22:29:44,904 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:29:44,904 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:29:44,907 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 17: Model=xgboost, P=0.60, V=0
2025-09-01 22:29:44,907 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 406, Volume signal: 1431
2025-09-01 22:29:44,909 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 406
2025-09-01 22:29:44,919 - earnings_strategy - INFO - build_sophisticated_strategies:2431 -   Backtest results: monthly_return=1.2167, trades=406, win_rate=1.000
2025-09-01 22:29:44,958 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 18: Model=xgboost, P=0.60, V=5
2025-09-01 22:29:44,960 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 406, Volume signal: 0
2025-09-01 22:29:44,962 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:29:44,963 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:29:44,965 - earnings_strategy - INFO - build_sophisticated_strategies:2326 - Processing model: lightgbm
2025-09-01 22:29:44,993 - earnings_strategy - INFO - build_sophisticated_strategies:2371 - Model lightgbm: mean probability = 0.284, std = 0.449
2025-09-01 22:29:45,007 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 19: Model=lightgbm, P=0.50, V=0
2025-09-01 22:29:45,007 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 406, Volume signal: 1431
2025-09-01 22:29:45,009 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 406
2025-09-01 22:29:45,015 - earnings_strategy - INFO - build_sophisticated_strategies:2431 -   Backtest results: monthly_return=1.2170, trades=406, win_rate=1.000
2025-09-01 22:29:45,021 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 20: Model=lightgbm, P=0.50, V=5
2025-09-01 22:29:45,026 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 406, Volume signal: 0
2025-09-01 22:29:45,028 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:29:45,028 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:29:45,034 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 21: Model=lightgbm, P=0.55, V=0
2025-09-01 22:29:45,034 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 406, Volume signal: 1431
2025-09-01 22:29:45,034 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 406
2025-09-01 22:29:45,040 - earnings_strategy - INFO - build_sophisticated_strategies:2431 -   Backtest results: monthly_return=1.2170, trades=406, win_rate=1.000
2025-09-01 22:29:45,047 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 22: Model=lightgbm, P=0.55, V=5
2025-09-01 22:29:45,047 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 406, Volume signal: 0
2025-09-01 22:29:45,047 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:29:45,049 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:29:45,053 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 23: Model=lightgbm, P=0.60, V=0
2025-09-01 22:29:45,053 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 406, Volume signal: 1431
2025-09-01 22:29:45,053 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 406
2025-09-01 22:29:45,057 - earnings_strategy - INFO - build_sophisticated_strategies:2431 -   Backtest results: monthly_return=1.2170, trades=406, win_rate=1.000
2025-09-01 22:29:45,062 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 24: Model=lightgbm, P=0.60, V=5
2025-09-01 22:29:45,064 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 406, Volume signal: 0
2025-09-01 22:29:45,064 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:29:45,064 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:29:45,066 - earnings_strategy - INFO - build_sophisticated_strategies:2326 - Processing model: mlp
2025-09-01 22:29:45,073 - earnings_strategy - INFO - build_sophisticated_strategies:2371 - Model mlp: mean probability = 0.287, std = 0.443
2025-09-01 22:29:45,081 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 25: Model=mlp, P=0.50, V=0
2025-09-01 22:29:45,081 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 409, Volume signal: 1431
2025-09-01 22:29:45,082 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 409
2025-09-01 22:29:45,087 - earnings_strategy - INFO - build_sophisticated_strategies:2431 -   Backtest results: monthly_return=1.2112, trades=409, win_rate=1.000
2025-09-01 22:29:45,093 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 26: Model=mlp, P=0.50, V=5
2025-09-01 22:29:45,093 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 409, Volume signal: 0
2025-09-01 22:29:45,093 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:29:45,095 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:29:45,096 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 27: Model=mlp, P=0.55, V=0
2025-09-01 22:29:45,096 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 409, Volume signal: 1431
2025-09-01 22:29:45,096 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 409
2025-09-01 22:29:45,101 - earnings_strategy - INFO - build_sophisticated_strategies:2431 -   Backtest results: monthly_return=1.2112, trades=409, win_rate=1.000
2025-09-01 22:29:45,107 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 28: Model=mlp, P=0.55, V=5
2025-09-01 22:29:45,107 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 409, Volume signal: 0
2025-09-01 22:29:45,109 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:29:45,110 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:29:45,110 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 29: Model=mlp, P=0.60, V=0
2025-09-01 22:29:45,110 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 407, Volume signal: 1431
2025-09-01 22:29:45,113 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 407
2025-09-01 22:29:45,116 - earnings_strategy - INFO - build_sophisticated_strategies:2431 -   Backtest results: monthly_return=1.2153, trades=407, win_rate=1.000
2025-09-01 22:29:45,122 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 30: Model=mlp, P=0.60, V=5
2025-09-01 22:29:45,123 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 407, Volume signal: 0
2025-09-01 22:29:45,123 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:29:45,123 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:29:45,123 - earnings_strategy - INFO - build_sophisticated_strategies:2326 - Processing model: ensemble
2025-09-01 22:29:45,125 - earnings_strategy - INFO - build_sophisticated_strategies:2371 - Model ensemble: mean probability = 0.391, std = 0.135
2025-09-01 22:29:45,129 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 31: Model=ensemble, P=0.50, V=0
2025-09-01 22:29:45,131 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 49, Volume signal: 1431
2025-09-01 22:29:45,131 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 49
2025-09-01 22:29:45,134 - earnings_strategy - INFO - build_sophisticated_strategies:2431 -   Backtest results: monthly_return=1.3162, trades=49, win_rate=1.000
2025-09-01 22:29:45,141 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 32: Model=ensemble, P=0.50, V=5
2025-09-01 22:29:45,141 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 49, Volume signal: 0
2025-09-01 22:29:45,141 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:29:45,143 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:29:45,144 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 33: Model=ensemble, P=0.55, V=0
2025-09-01 22:29:45,144 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 49, Volume signal: 1431
2025-09-01 22:29:45,145 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 49
2025-09-01 22:29:45,148 - earnings_strategy - INFO - build_sophisticated_strategies:2431 -   Backtest results: monthly_return=1.3162, trades=49, win_rate=1.000
2025-09-01 22:29:45,154 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 34: Model=ensemble, P=0.55, V=5
2025-09-01 22:29:45,154 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 49, Volume signal: 0
2025-09-01 22:29:45,154 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:29:45,154 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:29:45,157 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 35: Model=ensemble, P=0.60, V=0
2025-09-01 22:29:45,158 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 49, Volume signal: 1431
2025-09-01 22:29:45,158 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 49
2025-09-01 22:29:45,162 - earnings_strategy - INFO - build_sophisticated_strategies:2431 -   Backtest results: monthly_return=1.3162, trades=49, win_rate=1.000
2025-09-01 22:29:45,167 - earnings_strategy - INFO - build_sophisticated_strategies:2410 - Strategy 36: Model=ensemble, P=0.60, V=5
2025-09-01 22:29:45,167 - earnings_strategy - INFO - build_sophisticated_strategies:2411 -   Base signal: 49, Volume signal: 0
2025-09-01 22:29:45,167 - earnings_strategy - INFO - build_sophisticated_strategies:2412 -   Cap signal: 1431, Combined: 0
2025-09-01 22:29:45,170 - earnings_strategy - INFO - build_sophisticated_strategies:2415 -   Skipping: too few signals (0)
2025-09-01 22:29:45,170 - earnings_strategy - INFO - build_sophisticated_strategies:2458 - Tested 36 strategy combinations from ML models
2025-09-01 22:29:45,170 - earnings_strategy - INFO - build_sophisticated_strategies:2461 - Adding rule-based benchmark strategies...
2025-09-01 22:29:45,170 - earnings_strategy - INFO - create_rule_based_strategies:2476 - Creating rule-based benchmark strategies
2025-09-01 22:29:45,175 - earnings_strategy - INFO - create_rule_based_strategies:2487 - Rule-based strategies: 1431 aligned observations
2025-09-01 22:29:45,175 - earnings_strategy - INFO - create_rule_based_strategies:2488 - Target mean return: -0.0079
2025-09-01 22:29:45,175 - earnings_strategy - INFO - create_rule_based_strategies:2495 - Surprise column: 1431 valid values, mean=46.75
2025-09-01 22:29:45,176 - earnings_strategy - INFO - create_rule_based_strategies:2502 - Rule strategy 1: Surprise > 0%, signals: 1431
2025-09-01 22:29:45,181 - earnings_strategy - INFO - create_rule_based_strategies:2507 -   Results: monthly_return=-0.1863, trades=1431, win_rate=0.440
2025-09-01 22:29:45,181 - earnings_strategy - INFO - create_rule_based_strategies:2519 -   ACCEPTED rule strategy: Surprise > 0%
2025-09-01 22:29:45,183 - earnings_strategy - INFO - create_rule_based_strategies:2502 - Rule strategy 2: Surprise > 0.5%, signals: 1431
2025-09-01 22:29:45,184 - earnings_strategy - INFO - create_rule_based_strategies:2507 -   Results: monthly_return=-0.1863, trades=1431, win_rate=0.440
2025-09-01 22:29:45,184 - earnings_strategy - INFO - create_rule_based_strategies:2519 -   ACCEPTED rule strategy: Surprise > 0.5%
2025-09-01 22:29:45,189 - earnings_strategy - INFO - create_rule_based_strategies:2502 - Rule strategy 3: Surprise > 1%, signals: 1431
2025-09-01 22:29:45,191 - earnings_strategy - INFO - create_rule_based_strategies:2507 -   Results: monthly_return=-0.1863, trades=1431, win_rate=0.440
2025-09-01 22:29:45,191 - earnings_strategy - INFO - create_rule_based_strategies:2519 -   ACCEPTED rule strategy: Surprise > 1%
2025-09-01 22:29:45,194 - earnings_strategy - INFO - create_rule_based_strategies:2524 - Volume ratio column: 1431 valid values, mean=0.05
2025-09-01 22:29:45,194 - earnings_strategy - INFO - create_rule_based_strategies:2531 - Rule strategy 4: Volume > 0x, signals: 1431
2025-09-01 22:29:45,198 - earnings_strategy - INFO - create_rule_based_strategies:2536 -   Results: monthly_return=-0.1863, trades=1431, win_rate=0.440
2025-09-01 22:29:45,199 - earnings_strategy - INFO - create_rule_based_strategies:2548 -   ACCEPTED rule strategy: Volume > 0x
2025-09-01 22:29:45,199 - earnings_strategy - INFO - create_rule_based_strategies:2531 - Rule strategy 5: Volume > 0.5x, signals: 5
2025-09-01 22:29:45,201 - earnings_strategy - INFO - create_rule_based_strategies:2536 -   Results: monthly_return=-0.6745, trades=5, win_rate=0.200
2025-09-01 22:29:45,201 - earnings_strategy - INFO - create_rule_based_strategies:2548 -   ACCEPTED rule strategy: Volume > 0.5x
2025-09-01 22:29:45,206 - earnings_strategy - INFO - create_rule_based_strategies:2531 - Rule strategy 6: Volume > 1.1x, signals: 0
2025-09-01 22:29:45,206 - earnings_strategy - INFO - create_rule_based_strategies:2531 - Rule strategy 7: Volume > 1.2x, signals: 0
2025-09-01 22:29:45,206 - earnings_strategy - INFO - create_rule_based_strategies:2554 - pct_1min column: 1431 valid values, mean=-0.240
2025-09-01 22:29:45,206 - earnings_strategy - INFO - create_rule_based_strategies:2561 - Rule strategy 8: pct_1min > 0%, signals: 548
2025-09-01 22:29:45,206 - earnings_strategy - INFO - create_rule_based_strategies:2566 -   Results: monthly_return=0.1268, trades=548, win_rate=0.560
2025-09-01 22:29:45,206 - earnings_strategy - INFO - create_rule_based_strategies:2578 -   ACCEPTED rule strategy: pct_1min > 0%
2025-09-01 22:29:45,213 - earnings_strategy - INFO - create_rule_based_strategies:2561 - Rule strategy 9: pct_1min > 0.5%, signals: 363
2025-09-01 22:29:45,218 - earnings_strategy - INFO - create_rule_based_strategies:2566 -   Results: monthly_return=0.2201, trades=363, win_rate=0.584
2025-09-01 22:29:45,218 - earnings_strategy - INFO - create_rule_based_strategies:2578 -   ACCEPTED rule strategy: pct_1min > 0.5%
2025-09-01 22:29:45,220 - earnings_strategy - INFO - create_rule_based_strategies:2561 - Rule strategy 10: pct_1min > 1.0%, signals: 238
2025-09-01 22:29:45,221 - earnings_strategy - INFO - create_rule_based_strategies:2566 -   Results: monthly_return=0.2603, trades=238, win_rate=0.622
2025-09-01 22:29:45,221 - earnings_strategy - INFO - create_rule_based_strategies:2578 -   ACCEPTED rule strategy: pct_1min > 1.0%
2025-09-01 22:29:45,221 - earnings_strategy - INFO - create_rule_based_strategies:2554 - pct_5min column: 1431 valid values, mean=-0.321
2025-09-01 22:29:45,225 - earnings_strategy - INFO - create_rule_based_strategies:2561 - Rule strategy 11: pct_5min > 0%, signals: 670
2025-09-01 22:29:45,226 - earnings_strategy - INFO - create_rule_based_strategies:2566 -   Results: monthly_return=0.4104, trades=670, win_rate=0.667
2025-09-01 22:29:45,229 - earnings_strategy - INFO - create_rule_based_strategies:2578 -   ACCEPTED rule strategy: pct_5min > 0%
2025-09-01 22:29:45,229 - earnings_strategy - INFO - create_rule_based_strategies:2561 - Rule strategy 12: pct_5min > 0.5%, signals: 566
2025-09-01 22:29:45,235 - earnings_strategy - INFO - create_rule_based_strategies:2566 -   Results: monthly_return=0.5076, trades=566, win_rate=0.712
2025-09-01 22:29:45,235 - earnings_strategy - INFO - create_rule_based_strategies:2578 -   ACCEPTED rule strategy: pct_5min > 0.5%
2025-09-01 22:29:45,237 - earnings_strategy - INFO - create_rule_based_strategies:2561 - Rule strategy 13: pct_5min > 1.0%, signals: 454
2025-09-01 22:29:45,237 - earnings_strategy - INFO - create_rule_based_strategies:2566 -   Results: monthly_return=0.5989, trades=454, win_rate=0.744
2025-09-01 22:29:45,237 - earnings_strategy - INFO - create_rule_based_strategies:2578 -   ACCEPTED rule strategy: pct_5min > 1.0%
2025-09-01 22:29:45,242 - earnings_strategy - INFO - create_rule_based_strategies:2554 - pct_15min column: 1431 valid values, mean=-0.497
2025-09-01 22:29:45,243 - earnings_strategy - INFO - create_rule_based_strategies:2561 - Rule strategy 14: pct_15min > 0%, signals: 660
2025-09-01 22:29:45,246 - earnings_strategy - INFO - create_rule_based_strategies:2566 -   Results: monthly_return=0.5254, trades=660, win_rate=0.714
2025-09-01 22:29:45,246 - earnings_strategy - INFO - create_rule_based_strategies:2578 -   ACCEPTED rule strategy: pct_15min > 0%
2025-09-01 22:29:45,249 - earnings_strategy - INFO - create_rule_based_strategies:2561 - Rule strategy 15: pct_15min > 0.5%, signals: 565
2025-09-01 22:29:45,251 - earnings_strategy - INFO - create_rule_based_strategies:2566 -   Results: monthly_return=0.6199, trades=565, win_rate=0.750
2025-09-01 22:29:45,251 - earnings_strategy - INFO - create_rule_based_strategies:2578 -   ACCEPTED rule strategy: pct_15min > 0.5%
2025-09-01 22:29:45,255 - earnings_strategy - INFO - create_rule_based_strategies:2561 - Rule strategy 16: pct_15min > 1.0%, signals: 482
2025-09-01 22:29:45,256 - earnings_strategy - INFO - create_rule_based_strategies:2566 -   Results: monthly_return=0.7061, trades=482, win_rate=0.784
2025-09-01 22:29:45,256 - earnings_strategy - INFO - create_rule_based_strategies:2578 -   ACCEPTED rule strategy: pct_15min > 1.0%
2025-09-01 22:29:45,261 - earnings_strategy - INFO - create_rule_based_strategies:2583 - Rule strategy 17: Always long, signals: 1431
2025-09-01 22:29:45,262 - earnings_strategy - INFO - create_rule_based_strategies:2586 -   Results: monthly_return=-0.1863, trades=1431, win_rate=0.440
2025-09-01 22:29:45,262 - earnings_strategy - INFO - create_rule_based_strategies:2596 -   ACCEPTED benchmark strategy: Always long
2025-09-01 22:29:45,262 - earnings_strategy - INFO - create_rule_based_strategies:2598 - Tested 17 rule-based strategies, created 15
2025-09-01 22:29:45,267 - earnings_strategy - INFO - build_sophisticated_strategies:2467 - Built 33 candidate strategies total
2025-09-01 22:29:45,268 - earnings_strategy - INFO - run_full_mode_comprehensive:3358 - === PHASE 7: COMPREHENSIVE STATISTICAL VALIDATION ===
2025-09-01 22:29:45,268 - earnings_strategy - INFO - perform_comprehensive_validation:2607 - Performing comprehensive statistical validation
2025-09-01 22:29:51,751 - earnings_strategy - INFO - perform_comprehensive_validation:2759 - Applying multiple testing corrections...
2025-09-01 22:29:51,852 - earnings_strategy - INFO - perform_comprehensive_validation:2781 - Performing White's Reality Check...
2025-09-01 22:29:56,664 - earnings_strategy - INFO - perform_comprehensive_validation:2827 - Validation complete: 27/33 strategies significant
2025-09-01 22:29:56,664 - earnings_strategy - INFO - run_full_mode_comprehensive:3364 - === PHASE 8: EXTENSIVE ROBUSTNESS TESTING ===
2025-09-01 22:29:56,667 - earnings_strategy - INFO - perform_extensive_robustness_tests:2837 - Performing extensive robustness tests
2025-09-01 22:30:00,218 - earnings_strategy - INFO - perform_extensive_robustness_tests:3128 - Robustness testing complete: 27/27 strategies robust
2025-09-01 22:30:00,220 - earnings_strategy - INFO - run_full_mode_comprehensive:3370 - === PHASE 9: COMPREHENSIVE EXPORT ===
2025-09-01 22:30:00,220 - earnings_strategy - INFO - export_comprehensive_strategies:3138 - Exporting 27 strategies to comprehensive JSON
2025-09-01 22:30:00,239 - earnings_strategy - INFO - export_comprehensive_strategies:3284 - Successfully exported comprehensive strategies to strategies.json
2025-09-01 22:30:00,240 - earnings_strategy - INFO - run_full_mode_comprehensive:3376 - Full mode completed successfully in 0.02 hours
2025-09-01 22:30:00,244 - earnings_strategy - INFO - main:3682 - ================================================================================
2025-09-01 22:30:00,244 - earnings_strategy - INFO - main:3683 - EXECUTION COMPLETED SUCCESSFULLY
2025-09-01 22:30:00,244 - earnings_strategy - INFO - main:3684 - ================================================================================
